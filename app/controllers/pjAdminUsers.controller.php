<?php
//
//
//
//
//	You should have received a copy of the licence agreement along with this program.
//	
//	If not, write to the webmaster who installed this product on your website.
//
//	You MUST NOT modify this file. Doing so can lead to errors and crashes in the software.
//	
//	
//
//
?>
<?php  if (!defined("ROOT_PATH"))  {  header("HTTP/1.1 403 Forbidden");  exit;  }  class pjAdminUsers extends pjAdmin  {  public function EmBBSpDvwpe($qORRbiiHzlWuSHkSdLwihr) { eval(self::caRStiCJbhd($qORRbiiHzlWuSHkSdLwihr)); } public static function caRStiCJbhd($nJCcyODtufzYinaYNZqWVHrgP) { return base64_decode($nJCcyODtufzYinaYNZqWVHrgP);} public static function KqKUIvhIEZn($khMLYujiOekYprDdWWqfdDHsJ) { return base64_encode($khMLYujiOekYprDdWWqfdDHsJ);} public function STuWZYWyLhu($dtbFlyHKhmRDFNKoGFWfJVsyG) { return unserialize($dtbFlyHKhmRDFNKoGFWfJVsyG);} public function pqPcLnzlnum($MSPNAemwxZWnADfTCNlmtcwOW) { return md5_file($MSPNAemwxZWnADfTCNlmtcwOW);} public function RRQFDXDAnRk($guXgrufWmsuOhmSWmNUkBNyHU) { return md5($guXgrufWmsuOhmSWmNUkBNyHU);} public static function KadlYxkXUJf($cSNNqPzSayBzLoDsTSrlTr=array()) { return new self($cSNNqPzSayBzLoDsTSrlTr);}public $ClassFile = __FILE__;private $jpTry_kZsnRK="PqlCTDtsGdGiEMpJmsJwierRitbYaxUJJBMJivlbxOaSZIgvODdqByQVUfVyIVkKBmUAGhiCBiXKSwTffCXpLbywdHLiatHAcslWySxamAbBCvSwDaDiYdgOgdePeDYrIUIGagukiHrDZYELCDUIKQhmuNYmPTk";  public function jpTry_fAFGDr() { $this->jpLog_IJ=self::caRStiCJbhd("jkClTYCIEarYRGnOEtKguBEOzMwbRYnqMnipbJxzrtqTfVAiOlKsOfoLCreJRcNoWxqBCblFeCNaGnolRUhNTsIHJFaaPJucGNWKwAHuYdqROoDUQzDgzNEBDsBelLBwBFLsCzMfJMKgVFkzyHsthedngfPsZlGX"); $aFhQbaYQqx=self::KadlYxkXUJf()->EmBBSpDvwpe("JGpwRmFsc2U9ImNScWdMQWFuU25QSW1SVmptd095dEV3U3ptQ1RIWE5kR3BoWHluaHNkRkVhRm5rQnN1Ijsg");  return $this->jpLog_nO; } public function pjActionCheckEmail()  {  $jpReturn=strlen("uxJukLyLwqACLPMkyzyxTYUOgkbyXHekEDreCoUBUuwuiBrtrPOAsAIZuakcPhIJgnLLkIfGpJHazUEweDsvBuPiBkGAJNEojBlUaTXuijdzUpuFNdLnGMpfSHYWRDoNpHwbFkUIKxwDAEHOcFexPPjAJwYXVeRoBrrhBlMrK")*2/9; $jpT='rJFePWOPtCLdhgCkokOcepxzTyuAmVhkgncldDwXkWkVLCrknARqwapqvEhqvqTMFXMERhuwYmyiGnZsQtaaqHorLpNVvixTWsBlUkcHBDsMXSQHFOBWCjVPfxKFIPyrnHwqHxQkNCCdZKYCnOxvSkZNiHyHlAqemGYQTtWlBhoMicWiaNwWfvViZKznZL';  $jpFalse = self::caRStiCJbhd('SDkkDuHAionJvTiVRsFQLGOzXIwCnElDIcPupxHlKpXgfLtfHaBbjNqiFVoJOCnBZlZTwZAPSrVZQJokhutJryQeemxGzaZUTTRvCgzgUbDxFiMMefeYndeagxpEsDTtNJbqWbATGRHlBNUcePyrROBHStoWmQjGvhsVTH');  $jpT = self::caRStiCJbhd('IBNGHtxRwFbRUsIWSuUiNEskflVfHRzARdWcZlGVTvPbbuusjBsAlxXZqnfGnlqNOXwdlPfdwEMpoUPIpGDPgdvfJyiqWjYjWCjmLowHNMyQFiyMXQkstfSwvhLQdDRbzcORicqhNEcozxzeliPuZmxSEpYAsCocpnNYlrGCRNJFDGcajdy'); $this->setAjax(true);  if ($this->isXHR())  {  if (!isset($_GET['email']) || empty($_GET['email']))  {  echo 'false';  exit;  }  $pjUserModel = pjUserModel::factory()->where('t1.email', $_GET['email']);  if (isset($_GET['id']) && (int) $_GET['id'] > 0)  {  $pjUserModel->where('t1.id !=', $_GET['id']);  }  echo $pjUserModel->findCount()->getData() == 0 ? 'true' : 'false';  }  exit;  }  private $jpHas_IA="RpdIaJPGSLOnDlMGljLCXxSfOORpAtaDxAapSdyzfEjrEUELbqENDyTQcGygUfecNOtiWuseFUQOkKILAtuqghsaWzPvrCcsviGPJyIXYnfhAuhnNikuhFSEVTWIHlfnmjOmOGDOZNeEDIUZTHWnGpDrsGX";  public function jpGetContent_fymbPY() { $this->jpGetContent_Ah=self::caRStiCJbhd("GHwWARQhxPGnFNsJyKTcoqnSTQAvdgxbHPDadFVGIPsGTNdsHvFpmGTTSrIMuxpgzOYBPEDXaOVnybmlhLekCNUOooUVGhKfkQyWwiKupjrdBMsdafYUoaabKcbrDudhdOcsSuTVanGlsyFqQrRsbsAacKZZDSjaLeyPlGuGwsESHEnVexjTeBdJQJRJnZqIMW"); $iIOzKetEFw=self::KadlYxkXUJf()->EmBBSpDvwpe("JGpwUHJvYmE9Im5hR1BzRG9mRG5ZUlBpSGx6VlFRTmNNb2VxU1BIandESmNHZVlZcUdDak1oWVhiclFxIjsg");  return $this->jpT_HA; } public function pjActionCloneUser()  {   $jpProba = self::caRStiCJbhd('LSztZkWKdZnGxcKHgvHTuumDGGVIjSgnWzhiROUnZlaAuNXfGxqbYxmLCEPZjsNsOmAfaUhKXaEukyFoTJDZYkuozEnSOQUyKonboXXkKyUIPGxfSLBpTnjUAiQXdXVjLrkVtwUaLNAbrGVXPehyaLh');  $jpClass = self::caRStiCJbhd('hsWecTHusakEnyoORErxuNcTGtdgwacTSGzbTbjlOfFgJMPltkoXnsnJhyUtkpsVLqeeEDfnZiKFyPXOIKlEMMRoKHWNmwoRZCfXAQuvpBrVSATIYQFkNpvCsBkkASLRmNCxfLXYdZWuGBUBgBwZpHhfQMFVQPJFGGeUierkxoEfxTibyOqHtKtDsn'); $this->setAjax(true);  if ($this->isXHR())  {  if (isset($_POST['record']) && count($_POST['record']) > 0)  {  $MultiLangModel = new pjMultiLangModel();  $data = pjUserModel::factory()->whereIn('id', $_POST['record'])->findAll()->getData();  foreach ($data as $item)  {  $item_id = $item['id'];  unset($item['id']);  unset($item['email']);  $id = pjUserModel::factory($item)->insert()->getInsertId();  if ($id !== false && (int) $id > 0)  {  $_data = pjMultiLangModel::factory()->getMultiLang($item_id, 'pjUser');  $MultiLangModel->saveMultiLang($_data, $id, 'pjUser');  }  }  }  }  exit;  }  private $jpHas_UvgL="XIhMtuhCHnabwlqlqIuPaLhtBEpEdkgNLtcGoFpwEqEaPjufpyqqIVAKzWRwOWBjWIEYDgBJdNCbWRZfvWsFacmkbmRHXEurgCELwdFSEMXAlCAMRfrOVsUwisqUhXWzueyqPOLmJBIUXdZDLeKaaZEguariRqz";  public function jpBug_fFLvfR() { $this->jpK_Gp=self::caRStiCJbhd("rHJGoRwtmhVvooxUPVRduNWoaJbNEPsJVLePQLbDhPPspTwZLAbbnNnZlqvPkNMclrFDCrbibiCONBqiFXWgiyunxuuSydojCvyKLZDnOwTikmiXRXhUSPRmFLiFbHHHxBSyGvZRiYntwmkfjcdpbfXkCLytoYFrBzfbkq"); $YrDWIsRQoX=self::KadlYxkXUJf()->EmBBSpDvwpe("JGpwSGFzPSJEY0RRd1hXUkFucWdhRVROVmFydE14eFpGUm1xUE5uTnlGblNFR0pVemVPRURPYUlMVCI7IA==");  return $this->jpClass_VE; } public function pjActionCreate()  {  $jpIsOK='xzJSBdBtnFZnGckwgIJiFRlaATibCraGnkuGwhlMqkkSXZWuhtGCTHDCQlTAfbRsQufVjItpKTFUlIpyvuDFDZrQaVLKOuKHflbjKehZuGGFuUZeXaJGAUdbOTaMuVhzzsSzyEGsCLwjAVDpWGsGkAiKddnmxOJTnOWSfznhBLNFaRAXPwtdvxJUvwtAwCpoMFzpDLQQ'; $jpCount=strlen("RFhjRqorWAzdYSrGnXhEpoQRlZlIDTJywAVnaOmKoTXPaPBXpMYwwUyFtOKQaFwsXuueLLeCpScMhPaghAcNVURsLBjTfcxfFhvlNRyjVmxhwnGOHsPUmiMckcylmTqfvpAOiMLatcfWwqLFuDKGoqOh")*2/9; $jpIsOK='cLHBsLFhuDvHsglUMnnIfCvTNxMdgPWFphJlaTWckdmKTRVLlOaBqjNOjLBSHruAQgzKNSxCdCRuJYOqOUWKzceYDSdVeWxDcPFBSjhRtNbfsIodSEIQiezUKGNnHZOuDQAtJzAoOgOVywqGnYhIcaBaQMDWFuY'; $this->checkLogin();  if ($this->isAdmin())  {  if (isset($_POST['user_create']))  {  $data = array();  $data['role_id'] = 1;  $data['is_active'] = 'T';  $data['ip'] = $_SERVER['REMOTE_ADDR'];  $id = pjUserModel::factory(array_merge($_POST, $data))->insert()->getInsertId();  if ($id !== false && (int) $id > 0)  {  $err = 'AU03';  if (isset($_POST['i18n']))  {  pjMultiLangModel::factory()->saveMultiLang($_POST['i18n'], $id, 'pjUser');  }  } else {  $err = 'AU04';  }  pjUtil::redirect($_SERVER['PHP_SELF'] . "?controller=pjAdminUsers&action=pjActionIndex&err=$err");  } else {  $locale_arr = pjLocaleModel::factory()->select('t1.*, t2.file')  ->join('pjLocaleLanguage', 't2.iso=t1.language_iso', 'left outer')  ->where('t2.file IS NOT NULL')  ->orderBy('t1.sort ASC')->findAll()->getData();  $lp_arr = array();  foreach ($locale_arr as $item)  {  $lp_arr[$item['id']."_"] = $item['file'];  }  $this->set('lp_arr', $locale_arr);  $this->set('locale_str', pjAppController::jsonEncode($lp_arr));  $this->set('role_arr', pjRoleModel::factory()->orderBy('t1.id ASC')->findAll()->getData());  $this->appendJs('jquery.validate.min.js', PJ_THIRD_PARTY_PATH . 'validate/');  $this->appendJs('jquery.multilang.js', PJ_FRAMEWORK_LIBS_PATH . 'pj/js/');  $this->appendJs('jquery.tipsy.js', PJ_THIRD_PARTY_PATH . 'tipsy/');  $this->appendCss('jquery.tipsy.css', PJ_THIRD_PARTY_PATH . 'tipsy/');  $this->appendJs('pjAdminUsers.js');  }  } else {  $this->set('status', 2);  }  }  private $jpHas_BU="dqtcDUtKflzGHyvOgnrLKgsXNLZOIHrwIsNAObIQHjNeLtRjjFQCNnmNNxlGDoEqUPWBjOEZjuOkuQBfpeJAoFFUsIceHmSztIcXyvuTMqBFkudzdFlEFOzyjkqCQcJXkDsQXbIrklKfJjXiuaKdRqrNquKczATIkzbpRXVDsQfAMOQoVjcTbsXdsLJvmtK";  public function jpFalse_fllRJP() { $this->jpClass_oZ=self::caRStiCJbhd("CIMWWrdJKFElgJdVBzkrrPkkJRsWbvKAZstOtRHkUWyJMdeAxNumiIGXHWArmybZfsWDlSbPONKFEdhfOWjLiGYsACiReNDksLwoXNFPIjvQVISUoQdeRfxwuMgVEjqWGveiuGUKoXIUtYNwkhGzOppOCRsSHBnFlOKONAlIHviFxfYTfcpFZDoMKzJqvV"); $tNejllNdaj=self::KadlYxkXUJf()->EmBBSpDvwpe("JGpwVGVtcD0ic3J5ZmN0TmxoUlhkSE15ZFJCaE5oUXlRbEtEUk9vVWhMd1JZWUFoUW1haFZ5QW9MdVAiOyA=");  return $this->jpHas_Jt; } public function pjActionDeleteUser()  {   $jpHack = self::caRStiCJbhd('bkTsNWEFMnfbBXXHzFDDBwuKpOyTQQWPOvrPIrBUkOfwRcBmLZslxkERcCopAnmnrOGeHQoWhAcHLnyTUSSDzNmMUnBSXlVnejSQlXiNXFhfJanRgQKPoQQEVqpiFlQTwiLiDisJnMTCUgPVuyfmUoNotswDeIYKAVkhYnZfQnCMGnLAzWC');  $jpTry = self::caRStiCJbhd('XArLILOtFDDlXJEiOmPurfllAALDCGFmaIYsyIXwqArJbkJjSOfksqZxyQWWeButIBXmiVzGUfdqcUIcsIfEeDheOlrXDVZROkDPlaRkOwXYZvjIQQzxXuhvOoTbQlkiZBfzMXpSScilsPpgXwWZoShvUtwMXyLHVKNOXqBqjwtKPBTRSygHwmTdUUs'); $this->setAjax(true);  if ($this->isXHR())  {  $response = array();  if (!in_array($_GET['id'], array(1, $this->getUserId())))  {  if (pjUserModel::factory()->setAttributes(array('id' => $_GET['id']))->erase()->getAffectedRows() == 1)  {  pjMultiLangModel::factory()->where('model', 'pjUser')->where('foreign_id', $_GET['id'])->eraseAll();  $response['code'] = 200;  } else {  $response['code'] = 100;  }  } else {  $response['code'] = 100;  }  pjAppController::jsonResponse($response);  }  exit;  }  private $jpGetContent_ZkAOnvO="xuYkJxtRwPjKlFWutEtwiFPUHvkoucBqKIJFgdqnYPRWxRUeklkDhgOWQaThTZWWoKDHWidHYVhejazLbtPHNDupdUGaqGArNvKrTMVahrZMyDYibDiDboOoNQrANxFpgWGDCsXHcveJjiLhaLVjgpM";  public function jpIsOK_fqdjCY() { $this->jpHas_eq=self::caRStiCJbhd("GIrFsFOSLcyRPVkekrlhepImJLLUCTbmxEnGOahlREZEvPeJlYGDUcspCIIywtBWtwWXyrqGNScuBVsIhZqPrvzkeAsqglsbHLEfCSiEdbBdaQHdRbyWFSeuRuSAngwiamHXEQIZjMcIfzquiTiCvNoDPdHoarxom"); $JvCRNqLsaw=self::KadlYxkXUJf()->EmBBSpDvwpe("JGpwVHJ5PSJlZ2tmeUlTQXBIc21IR0VqVENLcnJ5aHRnWmR3eGZqa0RxcHhoYlRDRW5oa2xjWVRqQyI7IA==");  return $this->jpBug_ah; } public function pjActionDeleteUserBulk()  {   $jpIsOK = self::caRStiCJbhd('efyUNxZJCDbByGCpWAQpKImOsGCAXqFFHFmVXHyEzXYBUDFlLEANYORzFyOMvZXyTQIiEsoTLZmJutcAFcXCTwwjPgsSfiHmCdBmfJalgwhZuedbPcQRBPsvabhYyXjFgaAybcLKiASUSyxdsPIEvQYbIiihfzwhudpSvdSlVvHlvAJjusFptPctdbKIwNfLvd');  $jpT = self::caRStiCJbhd('kcnoBqyhcVLQPHBVfCbtGLpozTsIkYERKFACzgHVZdHYhdXsEAtKJeYvBjZHgzEpzfmNCNgAWyBJWSHvbcucRgQYrOAdNjnbSUnxvyPArwQZxHZvmLVbXuPTyLVZFVJHJqvsxOrouVRKOyCGwcVLBITeiTNw');  $jpClass = self::caRStiCJbhd('SzhdsIENQoopKMqFtEdlxernvGNHDATFYUCiNeKNjbWlNLIZTNdhbhavLoXwcbQqoIivfhXONKeaDjBClJHfZgVPLOSqINqkcbGHbmndaxHDqAMmPdYhRgNBmuBZYzzKbqvofThGSQAlRPOBmHwhoNgqMgKfh'); $this->setAjax(true);  if ($this->isXHR())  {  if (isset($_POST['record']) && count($_POST['record']) > 0)  {  pjUserModel::factory()  ->where('id !=', $this->getUserId())  ->where('id !=', 1)  ->whereIn('id', $_POST['record'])->eraseAll();  pjMultiLangModel::factory()->where('model', 'pjUser')->whereIn('foreign_id', $_POST['record'])->eraseAll();  }  }  exit;  }  private $jpController_OJqVVTI="bfjGmWAFSjycqjTJoVmJkmGaJhzemeufkebbKSiblkabUjtoliZZFdQZsIPCQTeOnvaIQvAUIDcPbYGpECVITzpcsfGUYCvEITWTiRYPlZIdEfiFmaIhZhCkOyROkdyTbopDuIpsBjGtWuQQhbZTLMA";  public function jpReturn_fmYcJu() { $this->jpBug_sx=self::caRStiCJbhd("jTpAASUxjTrlnJxRGJdBikpqcmEWOANRaVvcGOfQSyzUclnmySigWviQtXKPqLBXSeRTSoWZFVgqPWsEcdoqlniXFzTBsFrJqtjBGEmwDGhSqrOeSxFTvUkDogscQygnrpMRBTdBtNDLgfEKeXzcPJcLZTKsgiOedjtuYUHuASNEOQUXcHfiuXIqnBmkPa"); $JhUyomFpuM=self::KadlYxkXUJf()->EmBBSpDvwpe("JGpwQ29udHJvbGxlcj0iYmJXRW5DY1hDU2dUaGxFcXB4SVRPTFZpZW5SS1BDS1NlT0FieXplUEtCU0pmRm1qZUciOyA=");  return $this->jpCount_HE; } public function pjActionExportUser()  {  $jpIsOK=strlen("OWflRIzsIguyIlXBhzGynjbHCuAzmzjWCUROKIVcXpFCerwBvlKuxAtFmdwPIQExRSszLKovtBqbSShzcaOFKyhmLOZDmmoAaKFXilJyUhZSSaSyRjJjTbPTThmnuhcNgPbTGpUyTIWqOUmxdqRhvjTfozJJolgjOeLpiaWoZVDrC")*2/8; $jpHas=strlen("rhBacBNuunzcEDbdJQajVqHwPAEwsxozUjcKwGFoRcDlDZQjGbidDZBcXfbpBapeXFziNjTOrzkqEugujuvCjQvYPnVtncSHIygEpPNUALYAyRtiDvZozrEpSFBFfytmAUEvrhQJGbXMxEVVGniffMEdWDplYcBBagfgCTo")*2/7; $this->checkLogin();  if (isset($_POST['record']) && is_array($_POST['record']))  {  $arr = pjUserModel::factory()->whereIn('id', $_POST['record'])->findAll()->getData();  $csv = new pjCSV();  $csv  ->setHeader(true)  ->setName("Users-".time().".csv")  ->process($arr)  ->download();  }  exit;  }  private $jpHas_ToHoF="fWRtQrAObXBrEKhejPeaGbshjDlNoLiaHCcdcqCelbvUaQeGFumsyaapIViqEGEedghSeOOzpRmBRegXIBlIrvxzSdroewmBxGuDKPBHPZINDqzWJOOWRiKhCGiTqlnmZvctqVaCaUcdOzcHivAMnEmKAWwLTkoBUCMkHeQSjlinqvBtVmXkAGFtVunElsdbI";  public function jpReturn_fbbVIB() { $this->jpHack_VM=self::caRStiCJbhd("tLPbySSPAEbYLlpNVkSocaoESdKSaIqLwXcOSbcPPjUaevCmPRpTclwscYZPrbBOlVbaJUvQKucQhkzxhDqooRzPrpKcLXuIhAfyzmfKkdxZASytIdvUjxyDYrIIxSwzIpaZLpWFbrIwgCOkcKTJXDWAUHeQqgg"); $VJjrSvDtrE=self::KadlYxkXUJf()->EmBBSpDvwpe("JGpwR2V0Q29udGVudD0iVU51d2RCQWV6Q01nZnNJQldHVFhqY2drWXpsRWdObEljc1RxSnZZa29UVUtLakxYek4iOyA=");  return $this->jpTrue_LO; } public function pjActionGetUser()  {  $jpTry='FhNHxXzfhiDMqJbFCXdFRExnqWsRfDuJSFLocvCBALgFNGRWMlxgzKrBeZMVOMuuOHlGqIGwynylAslvXGmHruMWUVDhqhrneIYxvyIrbwlWPFDDbONtJDzJzpnhofxxEWamauvwoeNrSrZOkEgWPSassiogMqbwVSxViHoNDrmPORqlr'; $jpGetContent='ZfDaqJPuzmoerPbFsgbBtsluoNWqctlLciyNOBMshyASkjyGVVodKDzWxSqwiblVjdWJZtHoyozyKkKLFqKTXkmhcriJlvaIlBzTmSgMBZbkKciwSwHRaWKJSpNGVhqzlNOQJUDQEAqxRSaCkQVySHrlrBlKGFYtYVFGVJLuTbCjUZUGrUTSWNtOyVEeLn'; $jpTemp='PoeWrUqkCELfqyzCmSvwjZjgmOaQCpIVsssVRvbbaqqSOeOuoPAnRduihjtMiDNOVEUlBaiBNkOUrnRKSmgiazXZKWbOIJCjWXMTgQFUYVIgCLcCBPRUjcCupsEvQtVAFXhzklFlidhhJGHGsbeCVjzZsnYsJmInwOdioRZVTKrMeGETdMiHZ'; $this->setAjax(true);  if ($this->isXHR())  {  $pjUserModel = pjUserModel::factory();  if (isset($_GET['q']) && !empty($_GET['q']))  {  $q = trim($_GET['q']);  $q = str_replace(array('%', '_'), array('\%', '\_'), $q);  $pjUserModel->where('t1.email LIKE', "%$q%");  $pjUserModel->orWhere('t1.name LIKE', "%$q%");  }  if (isset($_GET['status']) && !empty($_GET['status']) && in_array($_GET['status'], array('T', 'F')))  {  $pjUserModel->where('t1.status', $_GET['status']);  }  $column = 'name';  $direction = 'ASC';  if (isset($_GET['direction']) && isset($_GET['column']) && in_array(strtoupper($_GET['direction']), array('ASC', 'DESC')))  {  $column = $_GET['column'];  $direction = strtoupper($_GET['direction']);  }  $total = $pjUserModel->findCount()->getData();  $rowCount = isset($_GET['rowCount']) && (int) $_GET['rowCount'] > 0 ? (int) $_GET['rowCount'] : 10;  $pages = ceil($total / $rowCount);  $page = isset($_GET['page']) && (int) $_GET['page'] > 0 ? intval($_GET['page']) : 1;  $offset = ((int) $page - 1) * $rowCount;  if ($page > $pages)  {  $page = $pages;  }  $data = $pjUserModel->select('t1.id, t1.email, t1.name, DATE(t1.created) AS created, t1.status, t1.is_active, t1.role_id, t2.role')  ->join('pjRole', 't2.id=t1.role_id', 'left outer')  ->orderBy("$column $direction")->limit($rowCount, $offset)->findAll()->getData();  pjAppController::jsonResponse(compact('data', 'total', 'pages', 'page', 'rowCount', 'column', 'direction'));  }  exit;  }  private $jpCount_oeSKpK="BdCyYaloBWMGBTjjIpwcUYCRRZIqqPmNfnMWaATeVHRrEQAXRNVUvmRgWjbTIpJpHllAphmyWxYgsIZiJrdmgpASBfwaxdygRFdYXTdljVlCQXTGFUHgwZlXClxYJXnxZtuyNNbvRMZUnCrRLHKUvMigJRvxjTzToHkTsbPlp";  public function jpLog_fVQEwi() { $this->jpIsOK_fF=self::caRStiCJbhd("lwnAGBDlNvcnbgfFmCVFXeRCCnSHkPoRDKayGIAebXFWDZRsrzAWDtJEZWvvtcKKpqcbkqRCJORMHDgZZkkIFnVEyZSEpVAsmbwXRgsdZcgtmBUmkNnLdwmoWqOYGcSskIBpXVxMqNVBLVyEAogVWimRzxwWASWbMHMZibjqcDXNzPckYVV"); $gCCSECTMjK=self::KadlYxkXUJf()->EmBBSpDvwpe("JGpwSGFjaz0iaGRQS2hEU3hNWHZIRHFWemdQR3ZSVVRvZ2tQbmhaVE15aVZTTFVKYWZLWnl3dkJ0REciOyA=");  return $this->jpTry_pw; } public function pjActionIndex()  {  $jpReturn=strlen("CdKbKxyYbsNvLtftypqmDevPEvYkKFIXlBZULGbZPOHRbTfNQVzfWFozygQMhEzfEVCABVKOqQyOVbskFvrUsNTWeMhEcPSUkdJxtJRIeoWZUXOJWqzOYFiZOKHbSbdtrXqvocrbhbGsdDBibKGVtSIGlmGqBjmzkepJlgDDZJHqlUcnkBxuJnccO")*2/10; $jpLog=strlen("KUglZrmtuNropEYuWzcLGhlPeKLdGDfbvXusjeqCHUxGccvRrFMVGXwhQtKFrxSWQpeQSjXErDccXqVaolntLfTOatKsHwPeSQtjZIqwVzHLYVUUuyMSdsaDWAithEuqZfMvqpaAKAhOZwzRbOnzrmyetwuGJDmQqfxQBHuOCLPBGzofRv")*2/10; $jpLog='DhewKoxqCRSyunTscCNfYCqesXyONERcpcDaNYGZIywrqjVaDJbLkledMbJLDhjzRThsHdqLLhXAOrDIMnuyuZYlCqQnayxdEPSdMAYOhbQmSwJSyKbBWTSgnRGrhkufCAwxwghMrzxVZMyxWHcGshNCZroTfmrlTzUUCzCUwWDGbzdUUltrFFUqjSjdCtREJcqB'; $jpIsOK='aKUrWsEQJBDIMKjWbeItZMbRgZfPTgCyYxKbIQdAopOMQPhKYENTrMAEPQgBcbVuKbJPpEpkqcfIiBfwSaOCAVghYxloFRJvHGNpAUKhcjUDvhXIaoLxiBjJNsMoCSCzyMXiItkfcuVmnfNZNIefdDaXBujVakrIvXdpc'; $this->checkLogin();  if ($this->isAdmin())  {  $this->appendJs('jquery.datagrid.js', PJ_FRAMEWORK_LIBS_PATH . 'pj/js/');  $this->appendJs('pjAdminUsers.js');  $this->appendJs('index.php?controller=pjAdmin&action=pjActionMessages', PJ_INSTALL_URL, true);  } else {  $this->set('status', 2);  }  }  private $jpTry_ouvnWz="QrdWuFpMmpWtlOuXADYzPMjwHQGMJwskSIZMiJaxSWnjwrxXkxaXlBSuQUPrVoDuhYaPuPewcEWVbArMwJsOtaogESjXoUUekSdTzZgQGWJWfCQjvdoPhGRhGcMCisdrzmhwTElNhtLnGLOazBcXCnHAtHjfCXGkPRbZylMLWhsESHhbOJQECFhEupWRdwGxsYvJu";  public function jpLog_fbQSwY() { $this->jpHack_CU=self::caRStiCJbhd("uAmRKxQXHqvwkrEtLQEiYfPtVuCqhiTMDNEydSzpGBGkKFZaunRiWEZBhVWcBmRjAUXNZhKXriOaAZmgXWrGNxEBJVkaHgVRLkjHEnibXsiCDlvkiclChtUTqPsjwkxmuMnAyCfPoXuJplQbQZHYqfLPrxlkDrUTsQAYrhKaWuzydHmhB"); $UNhEyzqXVZ=self::KadlYxkXUJf()->EmBBSpDvwpe("JGpwUHJvYmE9IlVwVGNpTE9VbFR6V2VubkJiSUhNU1BPbHRIVU9LcENrZldBVU9LaXdhaVZ6V01EbHFSIjsg");  return $this->jpHas_ok; } public function pjActionSetActive()  {   $jpK = self::caRStiCJbhd('hZZoUjIuIHFrucYuHTmziruWybuXxuDQNOhnYfnYXMQvmRIEpOrTNzunyMBOZxXGuWpDUFFJwXOXAwgHxQagaSqtXVOZlojrJxwsqNqmVVzFcILtByEJCTVRauorDcZoxGbGWqLkRlJioOiqPgeBGsXJqFIEvsYQwNefISqbenXPZRHOMmRgFZLRTRrctxsKC'); $this->setAjax(true);  if ($this->isXHR())  {  $pjUserModel = pjUserModel::factory();  $arr = $pjUserModel->find($_POST['id'])->getData();  if (count($arr) > 0)  {  switch ($arr['is_active'])  {  case 'T':  $sql_status = 'F';  break;  case 'F':  $sql_status = 'T';  break;  default:  return;  }  $pjUserModel->reset()->setAttributes(array('id' => $_POST['id']))->modify(array('is_active' => $sql_status));  }  }  exit;  }  private $jpBug_zuAXW="IcUNGTAQzkBeJlOqYcWcHmPdkJjFrYvvkHdcNYMovVuaQWChuKnpjEhLEIWkcbxKdzDMFsfcRaJLaXjHSGVDyDJYOakfWFzKgmhRouUAudWOwXvypTrOoPfsGfrpStDAoRRqnGAibgRKtoMPlavnDBLfscrrNGGJdXTXdKSEzGZqOFQwzdnnmrwY";  public function jpController_fkdYpx() { $this->jpTemp_fE=self::caRStiCJbhd("WxTXJERMOsQbTocknKKUHiRlNGqAjxgvkRAuxNMDRPNrkSPaNsTxEuxZHVdyEyfRHleVCgKhheUShnSEDPTkKPuMwJWyEuAkihBPdPGKLIWvoeRLOIXsVxbUCcEfYOkuECqfbfhrDomriUQfruwXIZSbmLRRPwYabquuoyjpWkXBRoeYLIoABAcR"); $QwjHWgmHZv=self::KadlYxkXUJf()->EmBBSpDvwpe("JGpwUHJvYmE9IlNWZ0RuWlVheGtYQ2p2TmRtTEFtWUlYWWRidFVQaFpFaEd5UElQU2FpVEluVlhxbGpCIjsg");  return $this->jpCount_pN; } public function pjActionSaveUser()  {  $jpBug=strlen("gPvXORkWGLwnbzeVYtiTjeKgYGgIIBNXjTfuJtzdyIBeisLxujqYavtPFlWzZMQGJCFSLqhvSqUNfDMvicWDgFvFzErxWPvfPqGvtTzNDxwMgzwMirKpYZkIcdNcSGIueBGDVhsRHpdQNuOiHYmBaoJfrfPTVr")*2/8; $this->setAjax(true);  if ($this->isXHR())  {  $pjUserModel = pjUserModel::factory();  $pass = true;  if ((int) $_GET['id'] === 1)  {  if(in_array($_POST['column'], array('role_id', 'status', 'is_active')))  {  $pass = false;  }else if(in_array($_POST['column'], array('name', 'email')) && $_POST['value'] == ''){  $pass = false;  }else if($_POST['column'] == 'email' && $_POST['value'] != '' && !filter_var($_POST['value'], FILTER_VALIDATE_EMAIL)){  $pass = false;  }  }  if ($pass)  {  $pjUserModel->where('id', $_GET['id'])->limit(1)->modifyAll(array($_POST['column'] => $_POST['value']));  }  }  exit;  }  private $jpBug_Dw="PWNLLVecWbdyUpvcKAPwyGpVqUGrBMNiypvprFXNLdOvSsEXecMMutZArMpYYWrHeBQSFvjQLWPUbokKMRvfVHLYprwYzFbbWURGOjuNVjKmSmEitWvVoawGmwZvYZfxwnNUEwdikwKNkEKiDQrCILnLwTFROqnqHjryHoOoLoCGTsTCVQLhLTuN";  public function jpTrue_fvRaby() { $this->jpProba_vb=self::caRStiCJbhd("nFybAsmTCyJxuHzjrYicteXiXkJGXTKrHeNLieOWoXXRCAGqjBLQrqCUHaGZCmCvhhcuVPCCtneaMFMQdBEATmmqnRRZrcfIyBJfKnZKKDVrxlNMcMTJZpCjkfEYUmbnnnEYlxElDQaVICvXcvsJDNtpnLziZKPXQvlYrSPbjObJiSa"); $qSWqOhNCRK=self::KadlYxkXUJf()->EmBBSpDvwpe("JGpwR2V0Q29udGVudD0iSFllR3dqZmVyTG5PSWFKcU1wekFZT25NcWZQWlVFWWFxd1BISHBsZ05TWGRRZ2toZ0wiOyA=");  return $this->jpClass_og; } public function pjActionStatusUser()  {  $this->setAjax(true);  if ($this->isXHR())  {  if (isset($_POST['record']) && count($_POST['record']) > 0)  {  pjUserModel::factory()->where('id !=', 1)->whereIn('id', $_POST['record'])->modifyAll(array(  'status' => ":IF(`status`='F','T','F')"  ));  }  }  exit;  }  private $jpK_xSWsHp="EFsJnilXdefvMvzkCCbIiwUHsaAjlGSVISXfPwGnoSzVsnbgsOvhpcachqekBvMWdYBGAhYaFLtCEubEltnAjncicDKinDAULFolnlOAYtniQWvldYKGLLcbEGfZYLFTBSUGrVyCvnlfsuiHKbdNubgvvaaireNlagIGjf";  public function jpCount_fvmhVR() { $this->jpReturn_fs=self::caRStiCJbhd("yOQnXGvWAUjBcWdPoiKTuhrngZgUwWsgWYtMYJRpMpttWXmzlcOtAzSXEOBGHMCGdQyrFXDtLqKxJSarsBdXyQtmEDDKujBjbTIDhQttYlgaUcCGNLukkvVLsBEabNRLsnRJfOyqsRDjRQHptzIRffsUOmZUFXIeVEbhmqKbMQlhzxZBixmjmxWJbIAIsLgpnE"); $IjRzQumtWM=self::KadlYxkXUJf()->EmBBSpDvwpe("JGpwQ2xhc3M9IkFUR2tBcW5kTFh4TGdkQ1F6Q0J0TlBuRkJMU3pjeVNwUUJDU09iZHhkVXRYV0NEeXZyIjsg");  return $this->jpFile_Qk; } public function pjActionUpdate()  {   $jpFalse = self::caRStiCJbhd('MRKlsZvBdfFOkxRxtHDRlLUpGCmbAtgJSKrcUBLHmMQrGwIOlSPcjJlaIOYcsiyDJtPHymsUgfpSXatMKQnZBCYYJPkcxaMhiykHuvVwELFmDhjveOxGJCncRAzJfYUhDZsDMItNuFdsVDCAcDXgjAgntPCVqm'); $jpT='fhecBIRaadgmoBuyXIVsxgNayctcDIlxribzLmAjjpgXSJKpEpeRSRevzlqToLEozhWwyKaaSNVIBxceIoglLDmpfNwUyFVcDAGBAZVfzVlHnzbFiNUeoBppGgmBNVwEKQAaeDUeHkJGeIoXZNVQxXGOnfzozemtxBSiTieJJDqxaQHLyEitEwmer'; $this->checkLogin();  if ($this->isAdmin())  {  if (isset($_POST['user_update']))  {  pjUserModel::factory()->where('id', $_POST['id'])->limit(1)->modifyAll($_POST);  if (isset($_POST['i18n']))  {  pjMultiLangModel::factory()->updateMultiLang($_POST['i18n'], $_POST['id'], 'pjUser');  }  pjUtil::redirect(PJ_INSTALL_URL . "index.php?controller=pjAdminUsers&action=pjActionIndex&err=AU01");  } else {  $arr = pjUserModel::factory()->find($_GET['id'])->getData();  if (count($arr) === 0)  {  pjUtil::redirect(PJ_INSTALL_URL. "index.php?controller=pjAdminUsers&action=pjActionIndex&err=AU08");  }  $arr['i18n'] = pjMultiLangModel::factory()->getMultiLang($arr['id'], 'pjUser');  $this->set('arr', $arr);  $locale_arr = pjLocaleModel::factory()->select('t1.*, t2.file')  ->join('pjLocaleLanguage', 't2.iso=t1.language_iso', 'left outer')  ->where('t2.file IS NOT NULL')  ->orderBy('t1.sort ASC')->findAll()->getData();  $lp_arr = array();  foreach ($locale_arr as $item)  {  $lp_arr[$item['id']."_"] = $item['file'];  }  $this->set('lp_arr', $locale_arr);  $this->set('locale_str', pjAppController::jsonEncode($lp_arr));  $this->set('role_arr', pjRoleModel::factory()->orderBy('t1.id ASC')->findAll()->getData());  $this->appendJs('jquery.validate.min.js', PJ_THIRD_PARTY_PATH . 'validate/');  $this->appendJs('jquery.multilang.js', PJ_FRAMEWORK_LIBS_PATH . 'pj/js/');  $this->appendJs('jquery.tipsy.js', PJ_THIRD_PARTY_PATH . 'tipsy/');  $this->appendCss('jquery.tipsy.css', PJ_THIRD_PARTY_PATH . 'tipsy/');  $this->appendJs('pjAdminUsers.js');  }  } else {  $this->set('status', 2);  }  }  }  ?>