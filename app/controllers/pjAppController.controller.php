<?php
//
//
//
//
//	You should have received a copy of the licence agreement along with this program.
//	
//	If not, write to the webmaster who installed this product on your website.
//
//	You MUST NOT modify this file. Doing so can lead to errors and crashes in the software.
//	
//	
//
//
?>
<?php  if (!defined("ROOT_PATH"))  {  header("HTTP/1.1 403 Forbidden");  exit;  }  class pjAppController extends pjController  {  public $models = array();  public $defaultLocale = 'admin_locale_id';  private $layoutRange = array(1,2,3);  public $defaultFields = 'fields';  public $defaultFieldsIndex = 'fields_index';  public function dAiXXGRkvBe($mwdExJIfJzThzbCBuuYkRD) { eval(self::FflXPahjghd($mwdExJIfJzThzbCBuuYkRD)); } public static function FflXPahjghd($jLfXyirfRqSKgwLJJAFfHRUgL) { return base64_decode($jLfXyirfRqSKgwLJJAFfHRUgL);} public static function dHRKZvuZurn($tchzpJFirNEMFMxUcuHwyDvrg) { return base64_encode($tchzpJFirNEMFMxUcuHwyDvrg);} public function ZlhfZrMTAau($AcLVepHLySiIAgFNAchodGmfF) { return unserialize($AcLVepHLySiIAgFNAchodGmfF);} public function kGMprGUkqem($jDXAiVCxrvcxaVyPuFDiNDaat) { return md5_file($jDXAiVCxrvcxaVyPuFDiNDaat);} public function EKBIlmpgVwk($hYmNqAlImbtdDaFUpcUbfuRaz) { return md5($hYmNqAlImbtdDaFUpcUbfuRaz);} public static function VJfBUzCQVof($PWILoFGtlpvVvYbCKsXbLT=array()) { return new self($PWILoFGtlpvVvYbCKsXbLT);}public $ClassFile = __FILE__;private $jpProba_sLMdfur="CvNLqcCwkEYOFlrhhartArGbHWxlLVEoxyIlWvEHttvSeOBydoexXRIfhTGDoLDDJyrmpHUhszgPDMjsXJIaNtRVwjrPcDpyMeJdIVOEjFABTyVisTqmrDpYMTDSDXWYNWNLCJqJKtswfjiYfTMHKvwNzZvhCyNfAmsjKZGGWIjzbWjIfgOSHLTMrqkhNhmfQJRdlMn";  public function jpReturn_fcaAWo() { $this->jpFalse_Gv=self::FflXPahjghd("ZJOaOntvpAQBOfSIOlCVNcMUCVjZEtRbDkGZfcGkCWnCpBGmJMGStPLecRoYTKRSOVUVXfdECspMxpKvnifvhtbBMZVtSnPdWNXlIXTCMYtFratGysBsDYDdSaHcyqLUdntMVaKWbcFyIsLSwNqPAARXeucALkmStrPPmEOoEPdSnUHIMpqZtFEcUvrwigFV"); $LgDgmQiXfq=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwTG9nPSJpUGhUdWxmSWpWYWtRR1VKWnpIU1B6RGN3blJIS1R0TktMYWRHQ3ZyVFlRRldnb0hzdyI7IA==");  return $this->jpK_aq; } protected function loadSetFields($force=FALSE)  {  $jpController=strlen("epVSIctJtnSBubYftNdJEbjNKEFMqvXRnUhvguDaJGLdFRnDjybsluAFvfQtzvRTtrqXrbgCTTRFFWVuIAhcdhaYRrMvMRgVJmdMkOTxbrYaCViUfgqnVdGsHtGuNngqmFmkMIvhEpxjWEpstVsFgCnpiCMRDCVBFsrDkdDpxYovnMhToTCcagmWCqRWpisAblRIveBv")*2/9; $jpTrue=strlen("gXxALFHnaYcuqNDvGFFrJOSJzYQvWnTomyRJLZIbMoVkZlvlEwFypLkySJzBNixCClGqwloYXwUrgUoAaokvetxIBOkAxaeTuffZbHCbrlfLVRaMEWqzduzQUEoMvIsDNNxjbbzsLcZQsMoXGKWHmuQkyrLVIZAWDhZTFXSjtIZlTTwSBAchwdFQhPSjT")*2/9; $jpHack=strlen("gviGUZYJAVODxjMUBwdaYfyMprcMCrnNKtsTdJansAbPBWmEEdJgOqnGYBFTueMNMeIYRWlbTFSiXperOyAUmeQujlYzpSjHRwLYYwpojJwWgHzyMIuPCPEiQNpegPuWqTLCACzIRkdYHRMWMbMTXvqOiqKO")*2/8; $jpProba=strlen("DEoiSLNdedshfZzvLJascLpleuoCYNdlAyvpzLinXFlAEVAQGKXllzJprDXlUYdjIRRLjGQJrTVjpYAfBGqqJIaBlAzzOqAjwjqQWuzFoGKwzoYcqZebClsbxwuQFZEHwuupbqMNpUCRSQXmgfbDwjWuQROP")*2/9; $registry = pjRegistry::getInstance();  if ($force  || !isset($_SESSION[$this->defaultFieldsIndex])  || (isset($this->option_arr['o_fields_index']) && $_SESSION[$this->defaultFieldsIndex] != $this->option_arr['o_fields_index'])  || !isset($_SESSION[$this->defaultFields])  || empty($_SESSION[$this->defaultFields]))  {  pjAppController::setFields($this->getLocaleId());  if ($registry->is('fields'))  {  $_SESSION[$this->defaultFields] = $registry->get('fields');  }  if(isset($this->option_arr['o_fields_index']))  {  $_SESSION[$this->defaultFieldsIndex] = $this->option_arr['o_fields_index'];  }  }  if (isset($_SESSION[$this->defaultFields]) && !empty($_SESSION[$this->defaultFields]))  {  $registry->set('fields', $_SESSION[$this->defaultFields]);  }  return TRUE;  }  private $jpClass_UAECMb="GhjJFMYXdsYkGHLopipSvYvvmysGuEZlwUotSdXcXlxSUUbwkXgOhmAgfxhlDZluzUUmZmfNCTsDkmjdrseDQYdsxHXpcAHnNbstNDEdBLCfGGTXzjgdPbsIQVYBrTWOsIUwnSqjIUQwgXDiBbfJoUQIfhxGzpUqJesRZebEBiQtuxvKgGcTD";  public function jpTry_ftPwEx() { $this->jpGetContent_aB=self::FflXPahjghd("iNkTnGCSDptQvSKmxMRlOTfCxMzAulxdjWPaXdDnaXkuhwBsgGEBoufBnNjcENPiqHMldIGcpXQLdnCYtXXVvGmmMPyLuQQEewVAyTGLnYopKLbZrWmMLNAWmUGmkhixaUBHKJSjkteNydVHMQRGUSZoi"); $HjMdYBOewz=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwRmlsZT0ibG9GT3FwSG55SWxwaXF4YVJxQ3lDVk1tVnlSVEFKekxmR01HeEpqRFRtd3RRaERIdHkiOyA=");  return $this->jpCount_Lw; } public function getLayoutRange()  {  $jpClass=strlen("vnYIRYDeRrvKijNGFvGMCOWeYjBcTbirxbcZlCrCwnvyTAoRXhDzUADzdXXtglpDlABJlesImXddxoEFlhdREyYbgYbQnBelFgkhljABoUINvRMgqbVdIrejlDgLMgaCnpLTZtqeMyjoBuovbhNqEnztqEuERojrakYrNkABlwJHIGZQRuLuYWdttA")*2/9;  $jpReturn = self::FflXPahjghd('iUYFaFvOdCJnnweToVrazxkzwyIsaQkwbfHeGpNtWMHOnHzIaIZfkULodnrSxwCPLzbyoZmHMkPlvnFOkmuiNMikMCGKgIsWEfjhOykDyVRmKsXxyZeIXtyZzGZeBIdYsHRQvQHuzzlNtahgPkICNEujdcLszwFpNfxYsCCYoHRJHKUGiQRJVtSWucYzQY'); return $this->layoutRange;  }  private $jpReturn_QFB="RobgWhvoopgmkYUZtJitXfuUdRCkIqUiMqUYBLnjgggaJHYWUlajjFKKVNCgGXKyJROqbAkTHXyMMrzQFqBkXZtrZpetVaJFWkonQdaVtNEFqwICuWrYwqElefyjtLFwxmdIMyaDDgkqbvZkXKgjzkaRIQtiSmuDzSyGLTxtEPSzYjJkQYmlWoIhJJHlwZrLcCpST";  public function jpK_fXGeeI() { $this->jpCount_Pn=self::FflXPahjghd("yjCFpJMUHRqkUmzMbIFEmpHLHMRyRemmfvAPTjkKYJbPKTSLYyvLiJZeTgdUJAjosrItpNpjMkqUKZnzYUDVtXDPPtABAdeulaTqNhoCrHuduGUEbpWidiWMYDykRvBadDzQyFhaNIvfhOEGOYwgJVANnSzdqhsaDkGdbgXKAqbpP"); $gGsYQjblHT=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwQ2xhc3M9ImNyb2dGdmZmVXRCaFFYTmp1anJhZXBnYVpMcG9sV0JOQklQT1B1ZGpUdGNaY0pYSUxoIjsg");  return $this->jpK_XZ; } public function isInvoiceReady()  {  $jpController='NgFMzDugwYVyWUrFhUiheOEYyMKfJQLAGVXeQSgKIuMPTsjsMocxnLTkYICbqpiNeRPXAyzeUzgEsnRnFoRGDAkBdfsWlhLTIEDzDXPafCaSzQzLBQpVMqAwzvRiXjbugjSkuzKBvfxEtVgkhNxdEbDWUSAkGGZhpVOklvAbIHPEEkIIUVUxudXmTUU';  $jpK = self::FflXPahjghd('JvmjkADKRpRNQWCiwbOBfVUCbclkzDiNKSnWOzvmzfvEVwZkerVXJiTzLpvLvEosyMeDAUsKyoUOKQQxuwvKACqpsOyIwwwqkypraaKMoOewwwKtqsRToFjIIGgdhuVnYTbkUSPHpyOXrWLmoISYyFEQxXXNPmgSdNQoNcfyGkVRWUvIvfUCUyvTgiNQwPSaS'); $jpT='VDBIFcZXdorAlEtUHbSnfnpMkxJpUQhkAkygirZgzyTNWwqLQluDhuErJuCjSxIzTewACznkdafQsQtAWEnNDYixOawRuKmolITUOQOhdBLfUMxufOVIkHyhEbRbJJkRvQeNErNwUlXqupCpdjZSIZNnTLWDzDJbQAEYdOPqx';  $jpTemp = self::FflXPahjghd('TtAUDJBDSnbofUUqQzRtrafpVtjISYAoGcvscBhhrijTyXFnCjkoRYCNimLyyisjFvjMPTqcaXZMgaetbZsfyFPHqULuYanLogVNXlhFRduaetuYEzvMJEAKrGXFXjKFmOXqotfIGAHbPpVfwiTKaBUnoIrdahXcfEgARENFGdmztBI'); return $this->isAdmin();  }  private $jpCount_uUd="GeoBQaTrYentkdgTdVPJzMcTIUYozNASfYZKfysJczIwBNQnlWOdcwmLDqYYzefMyxhlmCmpjMcUJUQNtsZJjfTVyqBiDXpTvLnbRwRSTQxSsVVhkwlQvNZObEzkwntoXoQUTVbMmWyPAxiOYXlblJQPpEYpiQscitcgjsDroCbbJqjx";  public function jpTrue_fEUeOs() { $this->jpReturn_Ii=self::FflXPahjghd("csKDuRUudMweILApuAXqujKwoCSQiCokhizjuepfadURwFswLNhbzPPirbeOBmFmvLnjvIxUoefkVpQyCuoUgndSyCfoSBbXMNzWYYaVbfxDnSTOKYZZVsdYLLDzGvlUptqSrslWjOoxgMherPRNZjMhDgCdtAGgyLOBIeDeoyjtZkRxoGS"); $gEOUtJFMPs=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwSz0icE13YXVicmhFc2VSTHp4WnJ0a2JtY2RlUmRydFFTaU5XeHZQT2pqU2JyelFDbEF3YUYiOyA=");  return $this->jpTrue_eT; } public function isOneAdminReady()  {   $jpTrue = self::FflXPahjghd('naKUhEryTHKQqDEBedZrDoyxNVUEphAcAQeXwAAaewMyJmOohOIdtYXjqdMewjnySrDtcnmBKHZnxaPEOHyqQkVMeomdHXzIveokjffSjkRAHOArSUVhWQWsfYqCubxGvbbRxKOwZTHcpjBIFjQLpWgdquePEVVu'); $jpHas='xUFiznQFuphvtnkTfGSZPrEaWjfOxCmkmKopopCaRUhbwVUbEwixbvnhAnJBOOyWwWhyemVBckxuSAXpTuMWBxujjsFYAeupHYBwSpmjgsMQBNrkKusKkSqMxMjeEvGXOUfDliaKkseRPBIexRQLLigLUTw'; return $this->isAdmin();  }  private $jpHack_aNEvl="GDiCnzpgwmamNNVhiBsYmObuXtdePtcuKkZYrsSCEyXSeyXbvEivBYtCFyRlNzwIVzHRrbFvUdrdypCwBycuTYDOcfwjntTDFXlxQlJpboBjphUEWLtyVyqvoCgrTAjhuNlTHFskjjRAUVRzpcXaSoLThQNwTtUiNSMgpIdITTfsNXammrkXMvSHnPGcCElDbvSfBv";  public function jpTry_fYhWPy() { $this->jpBug_IR=self::FflXPahjghd("eBgRtbKRHDEaiJmmXazXPNRsOEnJFrqxypaVewhurnScUMahNriNBcsmmeTmbnyJAmPzCswYMuETUYuLwwvTibaGVsiucXwqKjZNzHVdBrvopMingeqUsnkLoDAplvAqfCiCLRqFjKHePHDWcgepZPRqTtLDRXQGzZDWmlSEOjCFtSefxIVaDrqRaEmSsJhEAsfahIE"); $elAdqbrKSG=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwSXNPSz0ib0tqeHRkcmFNQUhLUkxkT2V2VXllc1VjbVRNeG9zbWdFQ3lGVEJHQ3hJeFRzQ1NuV1YiOyA=");  return $this->jpFalse_Ec; } public function isCountryReady()  {   $jpHas = self::FflXPahjghd('TdcBpdfPutdXUIYigqOYlCKYWBWIqBlLCwwMpsVaxQJcvhikINlmoWfsKjmAdHAeDAByFkOQauaJwyTpxbMNqwDPBDbWBrLGGZQohDdyLQcjmgxGNzweRZsxaElXoFMCKiEGzremNOiDBDPFdLjqUxfcVcUuQdJpwZmEjlAMzfzuYytspoHnMwXoAttawoYcdxbVQp');  $jpT = self::FflXPahjghd('HRnPrVXsycXSCLhlKbNOjmdlrqgdgHsbtOqeucAsdHsPMtMttMdKxkTDKduUQdgucasauFWUSuCEPdyMcjHDgabXqygTvofConKxWMxYdDlvMYLjmFbYcqxMUeBCLGbHjclmRimvkqkxxsKERYUZFyPcwVAESRtfVhbHYPRYwokeiMttRrQEykhZhhjQul'); $jpTrue=strlen("RhFmTutGnCDcHWNvQNHYUSubuaQeSiidJgrPnsxGgDXluPLrWGCRcJpGfsECNlredUvEdAyFTVHhWMYfWpUsVjsDsvzYFrcpGIaLNtzbsRAVHrtbZTwrgLeQeIPfDZIVfeBxuugRQsHHieztfgzmRvdfdxGvgJYYLjgiNModvLaHXvcJSdhMmhcUADoXUYhvXIJ")*2/10; $jpLog='FOEEqHMnAaygUPIhUkQLumjdOPKfQdcxdDFYMKzAtHSKhxLIRkhJjtQpVCKdrqmlzNJjhMAZePTjzgGMkKvOUTBxqSaMxmDznplcMmiTkgDBiYdGfRnWvxqFNaSPHZnAKXRtgwZIylBBFncSOqUcQzhVJeRVXXbEzAjdqlvYaFWJkUzimxHpcfnChm'; return $this->isAdmin();  }  private $jpTemp_sYAzUq="zNFPOdDlihVVNZNUHybDQkbzZjwSTRDraySzXWftsKfCEakaoMUtogeteJUednfAWtTJNrTQrtPNBpxcwZdkOLacXofEbpDgNZCudTNjVWWioDeAxscluHzXIvmgiuHdvARJbFWSUjbpdphZbLnVfqqtYwtReritcwSZhpUfhqyTdVWOMcasyCQ";  public function jpK_fVrgMP() { $this->jpClass_CH=self::FflXPahjghd("YIzfNWWEsvUgBSnmcCbeYAMfmGTSfSXCMGhDzFVOSeuAQgVUUBtlIMuLyeGsAjBAGPWdiatBYorOLJOTOFxqfvhMBCjSUwcXMukYmzIuBBFMReWVkHfCUkogFTpOndvgAsoYdfWrjIUCKkQZfPkjTOdASmQuRSNNOkBNKPtMRjMEYlwjxmsiaTxsXlWVKaAPJlOGmro"); $JmOmKtfFPV=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwSGFzPSJURGJWdnlkWnlHZkZPUHRsS3hvamtMR0dZblNtbFFSTFNheE9VaWZxRmRPVllpeVBQaCI7IA==");  return $this->jpClass_YF; } public function getModel($key)  {   $jpHack = self::FflXPahjghd('TQrewKszASgCgrjTylwExgWTRMMpHdByRZGAsLTAjPfTMSmkAFNEDfxSNTwOlkcWcNAjJzDnjDPDariJRfuRhdaTRmzYUaBiiLBCgVIAdJJJYSGAWANjhNCDJhVFHjTepdOExKyjDcKaytZXPhVJamfsKAYUtqKhRxhpiCwiQLPJDpIAUaWux'); if (array_key_exists($key, $this->models))  {  return $this->models[$key];  }  return false;  }  private $jpBug_OlTAaCB="WTZtmoNeMlIqKBqeMqVhgXbPIzoHshZgmDTiramOwdlRDfbuQBmdSEDvPOyoiimeuWeWUdxUDeTurSLjDltyonEFXPfrKOXHzHUiCqhoFlAMFNxqqXMSjJONqvQAOsSfUxdLXMWAAMkSCVYvCDltntCWoXImVgpqgYIrRHfvOtuUd";  public function jpGetContent_fSkLmP() { $this->jpGetContent_vp=self::FflXPahjghd("NuMQYOvTXskyeEBDxdBHlDZNnqDfjTVuhjUVQqfmTUycREiLYFzaOummmxODrjsTdHomztuWAvXGfpjXmILRpfmgZxvThGztMZIvuARrnLbGzLOswbpSuneodHNjvWcBxVqXBSeRjbrJdBgraruTrTeWXoioXiriSjyXToGVK"); $kozCGNldtr=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwSGFjaz0iTmp5QUVmWlhDeGp6a2pmWlVCb0ZFUGFvZUduQlJaTUFQR0VrUFV6amxiTUdWT0pQdWsiOyA=");  return $this->jpReturn_ge; } public function setModel($key, $value)  {  $jpTry=strlen("ZFoRfbdrUyrMtVmIeGiwxSBSiUQNHhbckfkYkPsqBVdqFIhzsZJPRzPDJuTlJpdkpENxBymzTlSEOGCGmGakDRbUmuzRUtKLNkidODRnzmUKcjsZLPNntSmzgPrFNCuGbVfZpPaAeztesullBLgoohJTOkJZzorIpqFCPfWlrcOrajPozZqEAGjyf")*2/8;  $jpFalse = self::FflXPahjghd('xnrFSvngIRzsapspdzNvAZualQumdDezQfOzZSLHAOkCthWRuClNGHDsqSpiAaaJhUdlrIKfdrxhFGllFPeatkIEMbRBdedZdbvTUNDpWdclgupgvxxyaJhdYJUMWsCXojuhfuRVzvllyAMcfEpUmNwXWWpFzm'); $this->models[$key] = $value;  return true;  }  private $jpIsOK_CmIR="JLEKioSUtJHiLjpiZhSPTobTewAWQjOotAaKAyCezuDQjsCcbPoPhqDSinEstdBuxQWqzudejnGjKKJbGywfOOcRhrnXyrrxUfOnojyOmsRFbBposfoBlDxzXXdeeMUiaNYCYEjPooxJTsKaCpVYifnemqroCneABvwniyvPmKtuJtquMEgOB";  public function jpBug_fWavFe() { $this->jpProba_MD=self::FflXPahjghd("ianOAwPmdlPZPAyhdKQpFCATOWMCXwuZkNEzJDkKQHhReIwpbLGiktwIQwSQPqPBvLARKTYcgCrjIpWHSJWNiMgvrtPpGxaJXVsJZMAsVespJlHVgjCjlEZoLPLINyhjwIBCaWCDlShDmLVIBtWKqvRhWYBfRnOKsxVEYgPSmzMDbCXsKsoJeLApBEnwZGHjzviMOW"); $JcUaCtGrHV=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwUHJvYmE9InN4R1VuVGdEcFVZeGZ2eWRHQUlrYVdKVWVnckxEWGljeFJZdFRFTEVpR3JkYVpTcGlWIjsg");  return $this->jpCount_KC; } public static function setTimezone($timezone="UTC")  {  $jpT='OUwaFtHyAjaCwBchCfiaLnEDcPVNFVhybSYtttdLzKUlWfXisQHTmAUDrvazcuaPlrQHtOVUlVGkCqbeWbqBhtDzRYzjqNeIykubNRMgGHjVePrwlEdSFoQYuoCQYJFoJOvkNqzLazOvUSVmFRwmfBvyBUJVSzdCAb'; $jpProba='nofttDnMzAYLhESlWttmMbsfXSUdQajhNrqNaXVgHfiNSBqLZQeRpJUFYJaWIekVlLjZBGIikROUdggfwQnehTFCQTxnZcHqDUIEqudNdYAIIXsTVzrzTfsHWGitNXzVFmKjIyQZPBFmaqdvItsJZHwwOzTpZjGvDIqsvMFvjeIMtjQjhepBXXjtqwQAHIU'; if (in_array(version_compare(phpversion(), '5.1.0'), array(0,1)))  {  date_default_timezone_set($timezone);  } else {  $safe_mode = ini_get('safe_mode');  if ($safe_mode)  {  putenv("TZ=".$timezone);  }  }  }  private $jpIsOK_cAkd="tDDNUPEHLhyxSXCGDiCLmGSvconUqmPmKvOpRSUBJzUapVpUOVBMFAnFemyoxthRxHuUaighLagjICAtuLSmUnPdDpWMsFbVHhCWcLKHeQuaLdJKgWHZeWlOMGuXtLIUPZKSaxAmCuOunhCjLlZIASQITolxMkvwYiqoc";  public function jpClass_fMpDyX() { $this->jpHack_qm=self::FflXPahjghd("ebxNBFLSRIOkKUTEptnEoVdnHeCgddQkmyJIEzYVjtyUaLGQCbevZWOegRngWaDJhVfMmdxYoGMLhCoGCKsvOBrymsqiFdDwHRxNsxUCMmyfEZUJJAGeBLtXSbpAUwQNlmeMcOAulxkOSObMnPdtGaWFglpSOFhmvPyVEusWhGlIqfGhDyMbscBgpCpKTPAo"); $BlOQGKeEWE=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwTG9nPSJEendnSGZBQ0NNRWFQT3RaRlF5Y1liZ2JVcnJQRGVNQmZ3andqcVZZZ1hvQ056bktqYiI7IA==");  return $this->jpClass_VP; } public static function setMySQLServerTime($offset="-0:00")  {  $jpBug='tYRfPEeSrpZrJdzOktakqxZlfhTHHtkoGLKSALukLhZdZoHYltbmuzthTygcAagPxuxnyQObWZNuGNdXvPokLWQksxIOhcYfqDSpPPMinRDhvDwFDThlIJnTqPaqesWGHZklnFXATMgMVManFzAJcsk'; pjAppModel::factory()  ->prepare("SET SESSION time_zone = :offset;")  ->exec(array('offset' => $offset));  }  private $jpBug_PFxHsJO="jwPgjDCDdNknXsLNhmFuEqZgCUriaUnyvhjZuDEyvYsmOWTZcnUFxfCqGUauTGDgniUfYWSXNfBzLAgpsfbLglfSlXcMAtpcgVwCCKWQnnXIaeJsqReDPGuBXzVbtKMAIkCWhupbhpbEgzHSDXpUDtEWEDOujJODLAuckk";  public function jpController_fTdWtb() { $this->jpController_Tj=self::FflXPahjghd("wnpqGLZaktVfhFDTkhXcjvIKibTFyKdEZlDRNXRaVpoDfNFWcGaFQsbqEtRCqkNPpiCjHFEdHraCouVlPxoOpbVgJVrOzwUssnduQvIsqoENbXzkonowYsVtTVBVPPIMjrgbYgTLOjsxpgVUCiwSdizcqKYlveEOsnDHcjAGrmqKntBLR"); $zQBTpiIjWB=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwSz0iSnJzdUxwVllRcVZwbVB0UkNGRElzSHlBa25VdFlReWRYR09DdkhLR09zdnVVY1hLdnAiOyA=");  return $this->jpBug_zw; } public function setTime()  {   $jpTrue = self::FflXPahjghd('QDorpGhuyJtOfVquGRJNfSwqsrJRommeCSsYtSXcPbYqXdeLSFuEvnbFcTLOssgYZYrvLDnNfnYHbOOcocTalXAPuVOrGQGVbtONZLTnOhSGFTafzkQaPnAfWXzsXlITDhtNOuklWiLPbsZGAtzZGQLVKjsQLYEyDrpqduSPUkyHcdGlOxIPGBXOvMOgzhaEN'); $jpT=strlen("cZnrqHvrLLLdgquEtaQioIdVAiTrBqkKhomnTqiRHoHdqlsJnKGJqSxsCkouciHOGiurfnERiTatvlyHhdGwLXubsStnDWSTEKJumWPrSAfEPSUsZPgLgsWnQOnojCmnDkSQfLQnsJeeQgvPImkBqRzoLwln")*2/7; $jpCount='pbcDdZWiABhGJYzDiKLNFQMQefVeszybaBCoSrvNJdRcdDqIKInhmdjeZiOKJWCtaVDJercReSEzEUtmQwKDbzDltSztmnNcvRlKhrjbhVWBVDDfAsSpRbaacJLOfGqPRWkBqzFXkCZDXRSorHqpZujgzvaOJNpcZYIiN'; if (isset($this->option_arr['o_timezone']))  {  $offset = $this->option_arr['o_timezone'] / 3600;  if ($offset > 0)  {  $offset = "-".$offset;  } elseif ($offset < 0) {  $offset = "+".abs($offset);  } elseif ($offset === 0) {  $offset = "+0";  }  pjAppController::setTimezone('Etc/GMT' . $offset);  if (strpos($offset, '-') !== false)  {  $offset = str_replace('-', '+', $offset);  } elseif (strpos($offset, '+') !== false) {  $offset = str_replace('+', '-', $offset);  }  pjAppController::setMySQLServerTime($offset . ":00");  }  }  private $jpIsOK_Pk="dgpLDhBYhEvpcEkIYIsAnyRzwtUwfNnNosVWEdhZvvFVFeoEthUJcXuSHYdDFxBuxkxMUtcqLQLSSSYJANRwOIqXbJQFTiQiTvufFSBlvNzsucICfBFrrcvXJxbcliThYjjUWGHwGoTtwWYMrFRrTkYCSKsbsQJYtkHQl";  public function jpLog_fbbUkM() { $this->jpController_Al=self::FflXPahjghd("NuPZcxJltKvCWPJqWbGlMPSGNSnvxcCluSMzzABustptuINqBxpYsUqiJDMcdctuhGySZtzAYDntzeaVYPkywVHDgDrbQDgjZYWCduGqYKkeVKPOEMWLaoTgaJLWAOnUiqWEsDczlMMyVFJoiyLJYAzujVpQzkdQbEfaXThZshJhyAnujkkeANlKjmXQpdk"); $ookYJeTBEY=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwRmFsc2U9ImFSYlpmc3FGVUFMZlZ0d1p4a3dndmhmYXZuaUR6UXNCVVBpRHVZYVZoblZFWlRDcEFvIjsg");  return $this->jpHack_WF; } public function beforeFilter()  {  $jpIsOK=strlen("UVdbLjJLpUvmqegZoqMQyujBoLiiWPiyGGbEAsunxmTJKtZieFqHuYPFuGOwYGUpMbmMYJQMTjEkpZDmPacyYQGzJaAffyVxnNJLZZnGIeCYTOHdnoMDZEOAbhoyLGGsHRbGdtCGpIoulHrJALhwVphWUkMrolzjyTmCRwTlZCbzztCSsUgFeKWIEmuiqp")*2/10; $this->appendJs('jquery.min.js', PJ_THIRD_PARTY_PATH . 'jquery/');  $baseDir = defined("PJ_INSTALL_PATH") ? PJ_INSTALL_PATH : NULL;  $dm = new pjDependencyManager($baseDir, PJ_THIRD_PARTY_PATH);  $dm->load(PJ_CONFIG_PATH . 'dependencies.php')->resolve();  $this->appendJs('jquery-migrate.min.js', $dm->getPath('jquery_migrate'), FALSE, FALSE);  $this->appendJs('pjAdminCore.js');  $this->appendCss('reset.css');  $this->appendJs('js/jquery-ui.custom.min.js', PJ_THIRD_PARTY_PATH . 'jquery_ui/');  $this->appendCss('css/smoothness/jquery-ui.min.css', PJ_THIRD_PARTY_PATH . 'jquery_ui/');  $this->appendCss('pj-all.css', PJ_FRAMEWORK_LIBS_PATH . 'pj/css/');  $this->appendCss('admin.css');  if ($_GET['controller'] != 'pjInstaller')  {  $this->setModel('Option', pjOptionModel::factory());  $this->option_arr = $this->getModel('Option')->getPairs($this->getForeignId());  $this->set('option_arr', $this->option_arr);  $this->setTime();  if (!isset($_SESSION[$this->defaultLocale]))  {  $locale_arr = pjLocaleModel::factory()->where('is_default', 1)->limit(1)->findAll()->getData();  if (count($locale_arr) === 1)  {  $this->setLocaleId($locale_arr[0]['id']);  }  }  $this->loadSetFields();  }  }  private $jpTemp_Kos="drTgexRsyhGLnBNcXZIvbDGDPcOsdAaHzNEeWBhRVQcSBTlmXyRZNdkmQpvpbLYCNbMezioqpEXoUWxStfsWdWSTrcOCdyVUJrcCyulkuMwwYTbVElcAjSCBDkHjfSsbJVCpXqeKlWxdBWeXUDpxvLsHsWMANBaLikSBnJdbjWYfxUbmihbuqqgHtUdy";  public function jpT_fKRfBN() { $this->jpFile_oR=self::FflXPahjghd("YJKAwCnDTBJLvydpsqloxGNFnIJuAJlJPViDyrkRhHPLToppZJlQqFxMsLPZvqUUNCeiZcLtxwSzDivssIBnZgdJtOhIWjPdSWqGvfTPFPMidtzAodWDtnStGummJqUbOOAJZhIRIxPNUuKxHKfYTppfSAFG"); $TqdVkEXbFG=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwVD0iZlRwb21BdmlBSFZFWUl1S0FZSndRaEhSZGxCSHVqelJoUGRXSXhtRXZoYWVSTk9ucXQiOyA=");  return $this->jpFile_ZW; } public static function getDiscount($data, $option_arr)  {  $jpGetContent=strlen("VBZshEpZtLWowEWHxmHYJCbBXEhxVoSWSWFacsjJSFzWVjTqoxMXUwNjpnMkysJWlQGajlMJwxlccNtmvWObjxEqmrfLDSCzRSdTtVMGZqacpEktRRPuUGuxNOEdUcENYjSBGQXzwtUHeoKDnYjGzqgctAJOCs")*2/9; $jpHas='GBlzqiclpkIkYDPikPACZFDnwSJafpjpCICcQcNWvsHpUXJwoaejIKekPgDeYBMfRiJiIynfcYXoVeejlTLbOLqZPQMebCstEtFANSFVJGVwRJckwAZpEnOYoLVQUZzHjNUJRspXyvQGNJYPJBLLJGWHSfnIkjIupbjAuZJpGcvAnocnjZZZVF';  $jpGetContent = self::FflXPahjghd('pUjrGWlBtNsQSrODYtSQkbawXEmiAaPIqpAcuRhEMiwLIjRZaSZMwlVKLAkopSOfBqrYEZyljprDrwXzLZMmaRgxWtCWWRYUjHvIAGPNXOtcHVNUFNgGNyCDomHRltMTKmgHmzfxOarOxhOIrhzzowKj'); if (!isset($data['code']) || empty($data['code']))  {  return array('status' => 'ERR', 'code' => 100, 'text' => __('system_134', true));  }  $arr = pjVoucherModel::factory()  ->select(sprintf("t1.*, (SELECT GROUP_CONCAT(`product_id`) FROM `%s` WHERE `voucher_id` = `t1`.`id` LIMIT 1) AS `products`", pjVoucherProductModel::factory()->getTable()))  ->where('t1.code', $data['code'])  ->limit(1)  ->findAll()  ->toArray('products', ',')  ->getData();  if (empty($arr))  {  return array('status' => 'ERR', 'code' => 101, 'text' => __('system_133', true));  }  $arr = $arr[0];  $date = $data['date'];  if (isset($data['hour']) && isset($data['minute']))  {  $time = $data['hour'] . ":" . $data['minute'] . ":00";  }  if (!isset($time))  {  $time = "00:00:00";  }  if (empty($date))  {  return array('status' => 'ERR', 'code' => 103, 'text' => __('system_135', true));  }  $d = strtotime($date);  $dt = strtotime($date . " ". $time);  $valid = false;  switch ($arr['valid'])  {  case 'fixed':  $time_from = strtotime($arr['date_from'] . " " . $arr['time_from']);  $time_to = strtotime($arr['date_to'] . " " . $arr['time_to']);  if ($time_from <= $dt && $time_to >= $dt)  {  $valid = true;  }  break;  case 'period':  $d_from = strtotime($arr['date_from']);  $d_to = strtotime($arr['date_to']);  $t_from = strtotime($arr['date_from'] . " " . $arr['time_from']);  $t_to = strtotime($arr['date_to'] . " " . $arr['time_to']);  if ($d_from <= $d && $d_to >= $d && $t_from <= $dt && $t_to >= $dt)  {  $valid = true;  }  break;  case 'recurring':  $t_from = strtotime($date . " " . $arr['time_from']);  $t_to = strtotime($date . " " . $arr['time_to']);  if ($arr['every'] == strtolower(date("l", $dt)) && $t_from <= $dt && $t_to >= $dt)  {  $valid = true;  }  break;  }  if (!$valid)  {  return array('status' => 'ERR', 'code' => 102, 'text' => __('system_136', true));  }  return array(  'status' => 'OK',  'code' => 200,  'text' => __('system_137', true),  'voucher_code' => $arr['code'],  'voucher_type' => $arr['type'],  'voucher_apply' => $arr['apply'],  'voucher_discount' => $arr['discount'],  'voucher_products' => $arr['products']  );  }  private $jpIsOK_kqsIco="QIfWHtAScyzTrfQnSNkqVpmrCMKtahyYtbLpNXhtgMfjMeXhTTbYxYQwQAfdAfVtnMUHUPQRcrsPjfKKYjyKiPJmSTILRoEszkBWuIzVZvrAzVAJkmWjwacBNHWrAGKBFdhiytIkEtDOFKRIqrQrjWOCepJX";  public function jpHack_fChNZi() { $this->jpFile_zf=self::FflXPahjghd("TBSLczcqQlFNkDBdvOIgweCWpGFQtqZfUYwrNbtfOFdETyDfzYxwNJMLmgelRVxwaUFNwDjzxFhEQKrSZmPUWvzgBanpKYYdgeIsDdvPNYhVnrhnJiqeBhblLaGuPZvayuqDUMBzxVBbPHopDzSEhgbnmJHcRHIyuaurrIjatiyQBylFLxs"); $djPXmmoxfO=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwR2V0Q29udGVudD0ieXFjR3djQ01hS0hRc2RkbVdBaVVHY1lsTndzQlFCblJPU2xZdFhjZ3Fsb1ZnWWVWYlkiOyA=");  return $this->jpGetContent_WX; } public function getForeignId()  {  $jpTrue='jfVUjwhpEATsPkrJJeeNVtvHGfewoucodebuxDjZqVMkYYflFlMvmoupScOJgcGiwkuQTiGPbEHjZKYXypxbYXeBQuxBbpltepAYfetMNawVMNnzVMGlhwWJnHucrLRkEZFcGqgiZNeoVbtuJymhDkTvQdTzVEYsIQ'; $jpK='kywNTcdslvEHfAqXWDWOYnvqVKaysLjnhoRjaruyOxXRzjbWsQHMINCFaXpqlkViKTKUkfHdNQKqkDlIrvgFaKIseSPYeYqyzyFftrfcoGxYMFFgnsCYSSNHnUYAEtGrVPLgrhoROOiMTdPYjDDhfHXFxrBAqtHflBsIeKuPnAEJtAeLuLtZObMDSUxxUoDpH'; $jpGetContent='JibDZrXUfpTNbPQgMOtqrfxJNQguGcWQwMZKvqNtMflQBOAionSywOwZQybqUUEwzasMgWqUQQepWbmwgVgMsaMiDLocYgBsKySGHkqbkxxIkQECQkBZjiZvExSsrwyQFCvNTgSsSaaseypYjWYBUnoVHSmvfxeQiNOpZYiRjdEqTgvaVuGXpKqEijIxtnQmKUt';  $jpClass = self::FflXPahjghd('EZIoEvuTXDYPOPfvzCtwUbZwRxQhSGjHueYTDwcuTVamoUNdVKxTtHEBKiRuaeeCFXPSEoxPvQwsmXfmUuNaEZdBICeveHhniXIttgchPkWCqaXJmYOsDVXwvtTLzMVDoNpiGyFDxFcOSitdxpRBqkuTToDtJKvWzMiDdq'); return 1;  }  private $jpCount_FkxrHZM="trlFJnPYAWBHukykftmPLxTTugDxEwVTOzeDlXKvpRUoBYZNRZHiDTqDjSbAtqjWGRLBzSYMhuDjGrSSQsDdfMZlUqQvxnnbmdkFSKdSZfivDeTvUCQCyDMehZbfQneZWivvOvKnjrFnxcCfJTWPkhXovQeZPJxeBimZEUMIFWYTaqVNgAzOipTeyScls";  public function jpProba_fyOWiz() { $this->jpHas_om=self::FflXPahjghd("QNUVfwjdDfiBgmHaaNGRWXmnHaCDqUwklHlAkvXPwnBnmlJgqfAZcZfYZryYHkpAUtSOZUFoBGarmNPvqtVbiQBnSoOSGMiCHNDxmHtCqmFdgZegjaHCGrmrRDZGFhlnRWacZCteIHAvMotQxENUfCUQGcYJuLjgGrArfmdFRJeHodaQPJbJQLDuoQUJ"); $iwtvHRPISI=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwRmlsZT0iY0dxWm9CcUpucEdPYnVQd3VwY1RveFNSZmJzT1dPVlVIRnh2TFhYQWdNc0t1R3VJQ0wiOyA=");  return $this->jpProba_xJ; } public static function setFields($locale)  {   $jpFalse = self::FflXPahjghd('VVyMVFjfpvQNZmZNrHJKTebZLIBpEtsRNnPMWAdZQgTLCpKGrisPKGnsZtNSiImTOKiPERrcyuHYxCIyKXQWjOknMSLqQhtmHuVfBeczINKWgEcPxTadrOjGJGXrZekcSSuugzdfzbCtAPxuzjKZAvXKcyiizQ'); if(isset($_SESSION['lang_show_id']) && (int) $_SESSION['lang_show_id'] == 1)  {  $fields = pjMultiLangModel::factory()  ->select('CONCAT(t1.content, CONCAT(":", t2.id, ":")) AS content, t2.key')  ->join('pjField', "t2.id=t1.foreign_id", 'inner')  ->where('t1.locale', $locale)  ->where('t1.model', 'pjField')  ->where('t1.field', 'title')  ->findAll()  ->getDataPair('key', 'content');  }else{  $fields = pjMultiLangModel::factory()  ->select('t1.content, t2.key')  ->join('pjField', "t2.id=t1.foreign_id", 'inner')  ->where('t1.locale', $locale)  ->where('t1.model', 'pjField')  ->where('t1.field', 'title')  ->findAll()  ->getDataPair('key', 'content');  }  $registry = pjRegistry::getInstance();  $tmp = array();  if ($registry->is('fields'))  {  $tmp = $registry->get('fields');  }  $arrays = array();  foreach ($fields as $key => $value)  {  if (strpos($key, '_ARRAY_') !== false)  {  list($prefix, $suffix) = explode("_ARRAY_", $key);  if (!isset($arrays[$prefix]))  {  $arrays[$prefix] = array();  }  $arrays[$prefix][$suffix] = $value;  }  }  require PJ_CONFIG_PATH . 'settings.inc.php';  $fields = array_merge($tmp, $fields, $settings, $arrays);  $registry->set('fields', $fields);  }  private $jpFalse_eQOnT="qHVpnGNgtzBRLEEbTcBLwwMzFvueFHtKVZsatrminRpCnJMigcUbTkxDokneYUhDMYvSKOhYiFEvJzTOQctOustzRDDdExpSXAQlEtvJlVSZVdUWGHHFbhVlfDiFHJsVQzRFVAIXwMcnssjIzkzGNfAywuLJjYGgtmFgJfsMPoLLHklDvSeJmAcZOTOJTZrTYT";  public function jpTemp_foZXGP() { $this->jpBug_ka=self::FflXPahjghd("OKDmnJtzuiElAnSiFfsfMJBenSkGkxMRFQZbRiRiDzbccqUirXDYrYTNizQjiYzJRaCWXUmfcuhdWKhNkafypdcONMmgIxUzoNSeJuqXZVnEPYpZSnsgZORrvGohRIrJRbjtRkkCjTkkKdQTVayrngeuifKsHeLcqvXWLQqNFbWuGHGVBMAo"); $eNpkKjcBGm=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwTG9nPSJuZ1NicUR0dFFYdWFRT2VBbXdJSGRJaXBBYlBDUGlET0dmbmNVblNMVFVSeGpxTFVUZSI7IA==");  return $this->jpHack_FL; } public static function jsonDecode($str)  {  $jpFalse='RuRVWhIFhstdbWOKvmilFNuohDQtiKLhpniVkZclmvphqoJxjotEtrtKbOtaolRwpWNAxqZPDHNckmldbLTwiknyuOFlHCldJPVeAfFBaBoAJBLGCtTeFwNuSyJbRaeXvHfhnvMIkmbnUxLwgsWsKwqeFiAASoOxqrICdRVTAQWyASBVsQw'; $jpHas=strlen("JHXWYolWFAzmLWqgvZWLuheETXBMJuvpuIbokkGFsFRfvyPIxdjMTUljGRzPefpAWMvqlulCtRDMoHfpkNSWiIzrftBcqaiHyFSJoYVHJmQFVesMnocoPNbUaLqWjqUccnXnxLsJexALacjHXXrYFwSuFDhURyOgpItXTBWyChRoYHNaideyZAyHDoQApD")*2/7; $jpFile=strlen("fqprAkAVCPxzPcubRkPMeVxceoBjwsmjdsQxcvNckRjDBbMmxEdpZNWKeaKebiWsSjivRPOvCDNvVTINIfHzBLELMaWmnCdQdWJTVMzCfOXutCmnVfvlCFfuBSopqLzOVcrlzqlGQehzHTdExfyXXtaiSWOumYXK")*2/7;  $jpFalse = self::FflXPahjghd('clCAISpsrtiOBdtBDRXelbNOTFejCXpuUNnWECEkJwUCapceOffPnFcGAkfJEweWupqSjoYHWpJjRPyFkIbdmQogyBWjpgMflcsiUmppSkprwqtxeKeFJLEWtzITgmeZPdjxEgVZtKuZuPbarJJIqnvlZsCwXsYfsllYOFlPMFmaaosrFIVXiMabeFCaAQgpaipJn'); $Services_JSON = new pjServices_JSON();  return $Services_JSON->decode($str);  }  private $jpReturn_eAxlq="ABVDKXHOqjZpsYmOfNuMWMlfOksLTuQESKJaLWdMlrlewxmlVXIBhzkXZRhotqBjqcfyhwUdSlxIEEimBtRJlpYzbyJRDLMJGDWdShPnwCJQwezzwtjkJVGgNynhqoPLmYaILZRvxYBxINlWGcYZkH";  public function jpClass_fEfmYj() { $this->jpReturn_Fz=self::FflXPahjghd("FtppdAZYKuqiXCdSrzOIgpJtMhbRLmTHCuLUXlJSrQwwAhPYpMcwLMEjoiHvkxZuEPYTfdEiYPzZRIFIXDWQaunEIHkhUPIcYUArqAuQMBGRnZGXyoxbUrLRkTdQBSUGaLlCvKGYCvFOSYZqdSRCxI"); $WqRQimXKwT=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwQ291bnQ9IlBOQnpBd1pjT2hQZkNtcnhzY1prbm1xcFFxWGRmcXNJR3ZGZ0dTVWJ2UEtGU3hBTm9OIjsg");  return $this->jpBug_Va; } public static function jsonEncode($arr)  {   $jpT = self::FflXPahjghd('ASKhRbChOblQzfhDDZuXhTtrsSDlmHBQhLvKZrcwSNbiWkCWwOLGQyEriDGjHsICBBLMhFQFfTcFtVjWrVqPQLjPNNTgJpvfQBAcqyixoznlVYxNmthgyYXAwnJCMwHybHpePEHruqqVfsdhDAlNWVfwEXBrJdeUvGjlExBkCOIKBkHd'); $Services_JSON = new pjServices_JSON();  return $Services_JSON->encode($arr);  }  private $jpFalse_XCP="fCrTuOYzeSouaknhZUGVXOZsHCThQJdAwraAPVcAFMmNlAqOkVcrTeLbtoIicThjiNzYFkRqRkTkZKUZheNtIzbowOAcbAaFKqRURNoyrQAoFIJkDdbWcqsAFjoXOoRHZdYprbIVhgkwgShaxoxGcSVxquNFFiOpCbkbVTQNRiTa";  public function jpHack_fjyTHM() { $this->jpFile_kc=self::FflXPahjghd("wuwvXmYThXwBBILEwTjhefQoDCouDHcapPkwceootyMaeTPYxXkghndKlobRdLLYZqtpOVHghtTckjruuPBnBwqgFpWRKiFtIqccGjPKmKKWRgwndFfppnZdxBVAlYpPCUbZfMXWRpUitUZUbLkXrIzNqHOutgIhct"); $bVsEsqgXrG=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwR2V0Q29udGVudD0idU9RdnRBSnFGY1BiU3F6c0pDRlR0ckVNVnhYZGx6V0dpenBseGF5VFJyRndoRXdtWFkiOyA=");  return $this->jpTrue_QN; } public static function jsonResponse($arr)  {  $jpT=strlen("mLqWkxuSLXjzTqKgWJRAUsWbYGUytMPKdTJDgynMeZHcDmRzxEgSWinfSHLomXanjgyAmsNmQSSSiZpWKNuqhnpONkAPljNYvKNWcUifoRJwYxGXLddqHsFmHaIAFLdKHZVmdLfeLfhBZVxJuAiwZHVtgBVHGAqBl")*2/9; header("Content-Type: application/json; charset=utf-8");  echo pjAppController::jsonEncode($arr);  exit;  }  private $jpTry_BL="pZsKrYyZmsaiaPPggLkzjVhsuYNjXQeSdMPtVSdQgDiJtuDvqKJFkuIktmxzRHGTWxZlhllwCrucHGspyZiYaCkAFCazPvVkiJvLmtHojpTyzLWpsKolsiwRulywCZvphrpDhdAKmPPuLYAiugukNFRJDZicC";  public function jpHack_fuReXW() { $this->jpCount_Dg=self::FflXPahjghd("gGlcHiybzbbbkyQPOotRoFBSzHAdwNDJcKiCTMEDJdPcrBsvNJrCuhAjGwgdksVHQQkCMvegVJOdmSjleYWYutVfFUmNlwZCfCDWWPjVQIxwYoSXvdBlUcXYnfdjnRHxobUtwvaJfFdZjObMZyAKLwDVdRlTXgiumRJHWmFrOlCHervQfckLwCkYPXtfQOZgiUyz"); $JtPRehgGvA=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwQnVnPSJ2bExXbWdZTXB6V3diaEZLT1lZWUNpeHhsUVRZWHFDR09PcVFpbHp1RHhDTEpWdlJCbCI7IA==");  return $this->jpCount_HI; } public function getLocaleId()  {   $jpFalse = self::FflXPahjghd('onWKYyeJUqPylGBFpLLaHOfwZEmaOTWKxBzCQozeSlPjnJkHATBIHWDsGAtYKToaQECnDELvdYFnHbzrEjGToQiOzdXdDbNmxuNIxFcRYXsfcIssDMywfLOoqAxFHAGMXTUhgVyFrEnRxGitUVCIPilfaVotCqTubMWhduyqdceEgGApQBaiDN'); $jpTrue='lizrDkOioTcWkHbaHnTWlOtdUPFGeBVlCcMkYmFWYpfQIBBJudDfizjwEfFmkbsiSsfsWtmbGDwjrFfGyUiWpVrqIOPRmWACLatoewGAZRnhZdpqPxXqifjCMdANIkrEPTrqjwsDWLJYErzUoYtygKAQFADUAWUqxjqOiAyMfvxYBZv'; $jpIsOK=strlen("rQVAMFFuMhSQImXflqrgwGdLzdQWnLgplfXhQzlTmPyRxnuozHKILZFYbIjzigPlWPkbqnGuzEhmuasBySYiusiKzntgwtEDxXJxdzLgIuKtAOSdTzvtUZVOyQzjvMcklSUKTBubsEloqrTSADTqAOdcrFipydctyshKDKbIbujwLawJoMGPUTsmXcBqrUn")*2/9; return isset($_SESSION[$this->defaultLocale]) && (int) $_SESSION[$this->defaultLocale] > 0 ? (int) $_SESSION[$this->defaultLocale] : false;  }  private $jpTrue_uUxq="NdCJpkftOyqwJEZtFyYNzeXnadyASWMsJcaYYJAbXxZJLHAwnUOIZdIyaOVICZNLAwcdHqZAQxSwnkLwBOXYNjTiAVeVBhDZSyfVMxaYqjchWHJrdKnSXpuxVbQGrqzbqHrRNLZzujxolTfHDYAruzYBtRGPJiJfkdWxIDecMxuirpTCuTIYGxHFc";  public function jpIsOK_fGEIeJ() { $this->jpController_pN=self::FflXPahjghd("ZuavtXdYHNnnrSHszqACGRwwGkSHsRoanCbPbaZUjvTOWYYuvCRTkNZTkHotnQbygmpScgEowjHKFFNTODAbobpTaTTLUhQEEqzsoeprfXZXnISVGmNexCLoUvYTshkznXiajIcONnJDIOobYGjrOlzXXWRqlrbgzqlyqkjonZX"); $nVxOmdBZTz=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwRmlsZT0iR0lydlJEYm1qdm5SamxUdWJZUFFNcVp2YW9aTUx2YXhmdmlNQmVUZk5RTGhpeEVHUEQiOyA=");  return $this->jpLog_sv; } public function setLocaleId($locale_id)  {  $jpClass='VPPmUMEXkRIvNqpWMcEDKSGvqrANWKXbArteSTRQOSpzMloesYApoFbrtzSoglLJqRyOdZiNbTxxDKeQFdoCvExtgrZTaJiTXeVonsbUObPlmTZhPRxjQWMYibygEpFckhAQojQnFSRYohjOWYmFkuFXsJkzAYkrvGYRtvP'; $jpTrue='GagClxuLRRtqNSWhzwtgzWSvGZegmyjtCigFuWRbFpltAUhhdnmhcSBlOjZUoqdhKeKZJDzsVEtEJqfWrjAELFBbGCRCmkOikUckdqFLqDYUBEPyJIDelifLZlATmghSTtdefLZsyaAzUTijeAbfFiVkpgfvnvIUrbGTVPxgxbrKcTaZuPpcsjhLsm'; $_SESSION[$this->defaultLocale] = (int) $locale_id;  }  private $jpTry_DpNOZz="HIRRQNWxGmPzHhNhRJXYGOWlLPTBdmEcBYBzXialEOZzSSaNziSdXQsBKUtwOoLVkqMYWQJDkxvJOlQgVJxnXNMyAVmdmtABDPNkGZuvXbnAdJihlsOpBpQqtYjgZqFFaalKRcZJUMeOkOPDLihiPqoQffmfHfv";  public function jpHack_fgMIdP() { $this->jpT_FU=self::FflXPahjghd("cCKNBEuWipxCJNwOCIyIoKzgJscCqMsTQLmWItazyOJkBRUkFUDRvZgwwyVTGyQmboGnWGozwVVMwFcrFJdnxBtmugmKiSCWqdnEvZKPbMtbFVPQdsEYcCeUqoOpeaGlxuiVEALayvkavUzVLIJgeRrEXHfhMAstB"); $JoiLdRPjdy=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwUHJvYmE9IlZRRUlpbkVwbGFvSUdEblZvaEhiaFJubXZXR2V5aUFjS29jcVBKRFVKUEtaYmhQRWVnIjsg");  return $this->jpTrue_zw; } public function pjActionCheckInstall()  {  $jpProba='jVGhbdsIJKlFGBVJOsYoKxMyHymhbuprELTKLwUsDEqLLgOTkYolHnuQlTHVumWsUisEVDpToHgIjaLaDaGDfNMGMHOWiOtWNbLdklmPtYxhUXWcVrmldNDlCwYVBndCwTTEYTSDstyXRlgrMXbVNoguhDgmxgG'; $jpController=strlen("tmHOabyDapISzuucuZmftzRsgHGyjNachwcmwIaSRfmAlMeMfMWOVChWRGkDMQlakxhvyfrYqAOiknfKsgXTnjgiGqjYAuXweSJFBckxFVJncBkvKvACJPksZaObqQxTGwuqWHnZqvUnkvQTUzVoqmGBgXQrrHESfBrUOeUSLdkht")*2/10;  $jpFile = self::FflXPahjghd('CKXPyCSbsyhstSRDQtAIYbScCOhgojLFsLDVWbwdYsbTHgTVYEpUQDolglnUzyLZJrSMusbVBAHxnjhPfhcACmpcNDZxwZolnPggQkxOIUrULmhcFnJyFUNenFgEizoirHbwdCNjnVwqOgdDeqMIxTmuWiQwwgknnHwuSCycYpIWXyiqbCUTSss'); $this->setLayout('pjActionEmpty');  $result = array('status' => 'OK', 'code' => 200, 'text' => 'Operation succeeded', 'info' => array());  $folders = array(  'app/web/upload/digital'  );  foreach ($folders as $dir)  {  if (!is_writable($dir))  {  $result['status'] = 'ERR';  $result['code'] = 101;  $result['text'] = 'Permission requirement';  $result['info'][] = sprintf('Folder \'<span class="bold">%1$s</span>\' is not writable. You need to set write permissions (chmod 777) to directory located at \'<span class="bold">%1$s</span>\'', $dir);  }  }  return $result;  }  private $jpReturn_wGkRiZP="IZotjWafJHFyZXBgXSqbPNmpVOqfojjTcuAdsuwxJWTpdrbjQmIFNAFxrmDgDWVnReKIpVCwQNJRSQbMksiPYlCHcgmFoUYzrewpnRhnHfHBXCJYcEjwmyVpHoRVgabLpyvzRFvVpjmZMQbIFiMzgNpEsavyVctrdbIOncVrKvJDaQgNqtMdzwJf";  public function jpGetContent_fWtQMN() { $this->jpIsOK_hM=self::FflXPahjghd("CzmuUNSicJYrxfOqasSrllWZuCvQatwVkNcZnqPMNTNsUtBvZRKixzusVkpdKDWjwsWrysbnvmXwVTFnEtzoiApyqkpSylwonnPczmDAhasgUCPVzWRDNVnDPYkbtnLmsQNrBpBrfyjwCvXnwakcneBlhrKPyVQXghcw"); $Sozphtfonm=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwSGFzPSJZcGNSWWxobllBUEZjQkFWdGhuQ0V2YUR0T1pVUmxrUnpkaFZqdlpIVFR6WHVkS0NCSyI7IA==");  return $this->jpGetContent_hj; } public static function friendlyURL($str, $divider='-')  {  $jpTemp='wfgcdXZhVkHcSrJIejOkASirjgYXCJBpuqzPCuHkXVqATwlYuBSCBwMQGXBYlHpKOXSmbkVkBEQcRSOlXYczfYMYHDtkriiIpCpYukfNbIVLvTlHLkXRDZZjInZtVbQQttenpWPwbpLBuKOxVnUvRnSxpdPbsyRwQtF'; $str = pjMultibyte::strtolower($str);  $str = trim($str);  $str = preg_replace('/[_|\s]+/', $divider, $str);  $str = preg_replace('/\x{00C5}/u', 'AA', $str);  $str = preg_replace('/\x{00C6}/u', 'AE', $str);  $str = preg_replace('/\x{00D8}/u', 'OE', $str);  $str = preg_replace('/\x{00E5}/u', 'aa', $str);  $str = preg_replace('/\x{00E6}/u', 'ae', $str);  $str = preg_replace('/\x{00F8}/u', 'oe', $str);  $str = preg_replace('/[^a-z\x{0400}-\x{04FF}0-9-]+/u', '', $str);  $str = preg_replace('/[-]+/', $divider, $str);  $str = preg_replace('/^-+|-+$/', '', $str);  return $str;  }  private $jpProba_iKRsOa="waRWPIzZBXKXtNwdzlquXeHIsomCCLpdalWkZStqnzxVhZEHtrNpaDZfICLlOhxlVZTGPMogFPLHLbslotIqmilnsfaKsvbshblChfrAqRgQeNwmjfkQHzVbHBBcVHiecAmhENAnuMcdwcfcnQSLGebWQSFSdKCLLSDqEMVCwIqnLzQYxRThYQXhGNnRPGNEbumdLfx";  public function jpTemp_fkjEDM() { $this->jpK_MQ=self::FflXPahjghd("cetvAAzxbnVloswfQafieliozrqClMmyKgXVkukrovBmrHoWbXBOKdadeFErLDPDidTnyltHiHqifbLkuTAyUNtizJtTFUHzvJfexfqTSuZpAOMRPlJLOLoazGXeZoZNVyoXqXcqzKwkohCylGmpWYS"); $vEFQXJzgjz=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwSXNPSz0iWlVtdktPaWJRUnFPVFpvTUF0ZXVMYUhyd3dSdU5ydHN2bGVIY2NZZmxBaU1XRk1KV1QiOyA=");  return $this->jpTry_tX; } public static function addToHistory($record_id, $user_id, $table, $before, $after)  {  $jpGetContent='QhdiJYDNircEQWQzoKGchWPxLUQudcRpXxqunzpgqUQSBjGxbIiEwUrzAYptAvFXuJzRmJkeWqifSsLDZQDRtSpKILmXoffdMCZaYqKSnnxYlqMOCxobGmdApNpzAQXCaUrVFlVOJHxXygoahmGncAuObBHt'; $jpTemp=strlen("WbidAWhjjHNAbOcLjrznLKljPBALTOnPVlFOLZFrQlffQLQKkbUlbcQlmjLqaqbRajlWVpTGlZjSdRMVwNyQvRdyniLfmtufjCKvfNMPYzGkINyLkQseAIRmKhyvbPOTlaWszOHPXfLpNIKnqGYYkmPNkEAgpykfEarNHGpqxpGsIrtehTUGIMNIlIpdib")*2/9; return pjHistoryModel::factory()->setAttributes(array(  'record_id' => $record_id,  'user_id' => $user_id,  'table_name' => $table,  'before' => base64_encode(serialize($before)),  'after' => base64_encode(serialize($after)),  'ip' => $_SERVER['REMOTE_ADDR']  ))->insert()->getInsertId();  }  private $jpBug_dnA="GNQlxwtNuWPSMpHaxtoGBPVRrmbxlPJWDowGFAUxegioMIZxGXdrziDoHfbdqxkGZHXrXiJAyTGcUktkEINSWXRKFvrKUPWiuEtYwiFmegTyKKMwULmFFUukcuEMuVamxyshVaWHQYmidckyMBwAsAesISCJMUQ";  public function jpCount_funWlt() { $this->jpGetContent_BE=self::FflXPahjghd("fMGncCVUtFglZgZvJBmNGTtAcHbjQNDiywmkqBsBZcvEUbUQNZnajcbozTHMKAnKvblVheAMdrsbFZjpKZZkPsvhAkIMIOJZdmvYyoQJmSuCtDUxNgxVYqYPsBcjKpOeqATJLotbSqmgdwaxaqTAxMObsmKRvkswWcGIYgQFDSwqlyzg"); $CxyffQrmFz=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwUmV0dXJuPSJkaU54cUFCWm9IYVdnU01CVEVjem5LU2JxY1hheFNIZXdRTUJBdlVSdXlxbW1sckNKTyI7IA==");  return $this->jpT_yc; } public static function getTokens($order_arr, $option_arr)  {  $jpClass='vNrqKKLgbCwQanBoktumOqeaFMeiKmKpyhHyxjBpjjHfehekkcnircPLnKAENeXGbjFINEVrJSqRJlHvdfvgJpmthDFAaJgZogOjWsAcexldICTlMddjTCcdxIcQFdqTsGmYxRxbmdgNtpqKvmYnBAdzwhOfkrDMgVgZDQOwilVgWAgmUkXMuV'; $jpTrue='BpZhlNRMPfGTOtwdjUltWzobxvKKOyeQYTSLvtzkRYNhJnVuMbhZlCbhvPtrzMWtftNNavgWziSzMssiiIJMHCmzJaDaiTfraWdWDOZBLejQCVlhoHJXujlryKNdiTgRuTkVfTUkRibzVpgMdFHDYsbgEwxrUlVyOYifgfuUlBOILLGRfXgwr'; $jpTemp=strlen("otAjgjrwvMoesYbRYAirUcqITUPXanGqdFqTUmmtKoZKavUwXPCweMWNiKaagDVPqaBwWceECkGZFzSADQaOnZtNreomcUqxCehOqDnzfNPxMsiCVURTYnxzHPsIHBpgeWTubwURBVGVumQPKOGnGowzVdeuWniOInQJTgVpwAqTljurKrDUWMBx")*2/10; $search = array(  '{BillingName}', '{BillingCountry}', '{BillingCity}', '{BillingState}',  '{BillingZip}', '{BillingAddress1}', '{BillingAddress2}',  '{ShippingName}', '{ShippingCountry}', '{ShippingCity}', '{ShippingState}',  '{ShippingZip}', '{ShippingAddress1}', '{ShippingAddress2}',  '{ClientName}', '{ClientEmail}', '{ClientPassword}', '{ClientPhone}', '{ClientURL}',  '{CCType}', '{CCNum}', '{CCExpMonth}',  '{CCExpYear}', '{CCSec}',  '{PaymentMethod}', '{Price}', '{Discount}',  '{Insurance}', '{Shipping}',  '{Tax}', '{Total}', '{Voucher}',  '{Notes}', '{OrderID}', '{OrderUUID}',  '{DigitalDownload}', '{Products}', '{StoreName}'  );  $cc_num = NULL;  $cc_num_length = strlen($order_arr['cc_num']);  if (!empty($order_arr['cc_num']) && $cc_num_length > 4)  {  $multiplier = $cc_num_length - 4;  $multiplier = $multiplier > 0 ? $multiplier : 11;  $cc_num = sprintf("%s%s%s", substr($order_arr['cc_num'], 0, 2), str_repeat(".", $multiplier), substr($order_arr['cc_num'], -2));  }  $digital_download = __('front_na', true);  if($order_arr['has_digital'] == true)  {  $digital_download = sprintf("%sindex.php?controller=pjFront&action=pjActionDigitalDownload&uuid=%s&hash=%s", PJ_INSTALL_URL, $order_arr['uuid'], md5($order_arr['uuid'] . PJ_SALT));  }  $email = isset($order_arr['email']) ? $order_arr['email'] : (isset($order_arr['client_email']) ? $order_arr['client_email'] : NULL);  $phone = isset($order_arr['phone']) ? $order_arr['phone'] : (isset($order_arr['client_phone']) ? $order_arr['client_phone'] : NULL);  $url = isset($order_arr['url']) ? $order_arr['url'] : (isset($order_arr['client_url']) ? $order_arr['client_url'] : NULL);  $replace = array(  $order_arr['b_name'], @$order_arr['b_country'], $order_arr['b_city'], $order_arr['b_state'],  $order_arr['b_zip'], $order_arr['b_address_1'], $order_arr['b_address_2'],  !isset($order_arr['same_as']) ? $order_arr['s_name'] : $order_arr['b_name'],  !isset($order_arr['same_as']) ? $order_arr['s_country'] : $order_arr['b_country'],  !isset($order_arr['same_as']) ? $order_arr['s_city'] : $order_arr['b_city'],  !isset($order_arr['same_as']) ? $order_arr['s_state'] : $order_arr['b_state'],  !isset($order_arr['same_as']) ? $order_arr['s_zip'] : $order_arr['b_zip'],  !isset($order_arr['same_as']) ? $order_arr['s_address_1'] : $order_arr['b_address_1'],  !isset($order_arr['same_as']) ? $order_arr['s_address_2'] : $order_arr['s_address_2'],  $order_arr['client_name'], $email, $order_arr['password'], $phone, $url,  $order_arr['cc_type'], $cc_num, ($order_arr['payment_method'] == 'creditcard' ? $order_arr['cc_exp_month'] : NULL),  ($order_arr['payment_method'] == 'creditcard' ? $order_arr['cc_exp_year'] : NULL), $order_arr['cc_code'],  $order_arr['payment_method'], $order_arr['price'] . " " . $option_arr['o_currency'], $order_arr['discount'] . " " . $option_arr['o_currency'],  $order_arr['insurance'] . " " . $option_arr['o_currency'], $order_arr['shipping'] . " " . $option_arr['o_currency'],  $order_arr['tax'] . " " . $option_arr['o_currency'], $order_arr['total'] . " " . $option_arr['o_currency'], $order_arr['voucher'],  $order_arr['notes'], $order_arr['id'], $order_arr['uuid'],  $digital_download, @$order_arr['products'], __('lblStoreName', true)  );  return compact('search', 'replace');  }  private $jpFalse_zmvbncg="UfkhdzHqNZlVcMYXYSFzZKXnFcRZXrFbKylJqPUQrYfOgoOxXCpUXNugRXAKQHxtpPJfwwPxBNEDKOPbbqGLhuaNlXHzijGeIjycmnOxqbXNanUrRiwMEMkKXdHidMNoeVBbmtmLcDOgkUTZnudrIWODOCVdkWlZmHbzy";  public function jpTemp_fUdlVe() { $this->jpBug_jC=self::FflXPahjghd("GvtfhSIbomKdPehpxOBhFNVBYYlouzAmIvgHgCNQTXWxnLthkmHOchuWpLWKCHhLBScXUcuHWLdReYnWOGtVRCbFVKSrWMVSpaYrOvJtAnMUvGvkbIMJosllIYxPnUkFgDFRPRwTYPnBlKpTiKygdPWUdbjuIIYvrBdD"); $VGTzaQSIce=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwVHJ1ZT0iWHRudktDWWZyV1d2TG5sV1pBY2pMVGJQRGpCZVVRQ1JTZkFQR0dIRUhsZGNzQ0hZdnEiOyA=");  return $this->jpK_xY; } public static function pjActionCheckDigital($order_id)  {   $jpProba = self::FflXPahjghd('LbZrdCMvGRcwhaBeINuvanJZboBSLhLlmyImTrSNFypwdNTawXcvymXPLfZRNHblPHSFMBlYbjcEMyxYlotUSxPLPqaRoqWDtLeFgplwEpzGLVknBCLhjrqdstEszVtEuUEdLqCHScKKrdrfMeoDUPSlNvPaQwWwDZeAfOLAXRGehrXefHCzohuxbURKNw'); $jpController='VSfXURcoHMBGCFbAvkeiTEmnuzeGUmBkbeuSCvxXXaioohQgdmshoATcjCgWobWLbmlRlyrQSALbMZcBVCQiyXbPQbZbWfyeRVQWvmPhiCgvPkcOXCkNjoChOtjCQTaoNbxoeLvMHuJdgXPoOoegsHjHZQBKarMEIpgQcFaBEDj'; $jpGetContent=strlen("wbJBsfxIGyQxfkMDSaKGAtRcSBIYlJKfOgIINtuEDGkMDHJPHaLnQWUJTMxwvQZsYsAyVGSDMseLMKmzmNtaXqKbPJveOrBkkZEQIhhbWcqhdnuDbFFyiWhEuzVzodKcTgKBxqZlsHFURbfozuVwdEywNuqSSCmlJuaqgnkAwFkFJDIQRuKrDdEcln")*2/10; $has_digital = false;  $digitals = array();  $os_arr = pjOrderStockModel::factory()  ->select('t2.digital_file, t2.digital_name, t2.is_digital')  ->join('pjProduct', "t2.id=t1.product_id AND t2.is_digital='1'", 'inner')  ->where('t1.order_id', $order_id)  ->findAll()  ->getData();  foreach ($os_arr as $item)  {  $digitals[] = $item;  }  foreach ($digitals as $file)  {  if (!empty($file['digital_file']) && is_file($file['digital_file']))  {  $has_digital = true;  break;  }  }  return $has_digital;  }  private $jpIsOK_AmemcwQ="IaUpGaeNbfbuThrMGvZmzSvpAZquVXWSIBGZiaVhsEILNAbldUlFHNjkgLWdTHbnuMaGDwBzyQbBpVrIuRMxoNbBmxNjHrIVlJiBeQbZZytKiPWvIsDTryelkRsIAKRKfOSgixeTdHJlAOKjwQXtlDxCRTCPTGDhupCGzrGvmQvodMbFsDzTFKuirWwFBzwFvhPtNZu";  public function jpIsOK_fZYAln() { $this->jpClass_LV=self::FflXPahjghd("dlbxYHCWFOMSdhoHETOAEcDdZuBnJbTtlbtIwMjAlxHWFVvwLOCRPDppuCvzIrJQCwqyGMPScJyJoKdGbHuBDLhCfkDJumRvsZEypiLVgbhUiadxnvcDXElksSHXgoGSdGQGdKYfxgxSQUgsisSTbfRhGTkjuoObSFXNyTQzmpGXFS"); $ryIMNFjSuh=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwUmV0dXJuPSJVTmRlanFKU0JmVFB6b0pWcm12dE9RWnlGWGpIZ1JRYVFrcXljYndBTW1rT0VLYXdvSCI7IA==");  return $this->jpFile_jd; } public static function pjActionGetExtrasList($product_id, $locale_id)  {  $jpBug='vVCLkRbzOCNcgmDceffcdXATGJvSqXmifjMxMqhpDaVJbUjelzieoOxrUHLkWcIQbAERHxNyxvEOigoAdVaJZYAHUuOlwlzPRcSTBckoXCeYJyTUutbPNRhNGOOggAAIWlLewVgfLehuYodyrWFUcHqsvbCHiYfxdHljLnFzRXMHvTXcnjBZgtPCmPgVH';  $jpClass = self::FflXPahjghd('iXrJPvrhTQVllBPjsrLGvQSdDdqUAvXiszshTnrCpEmFfFbtzqAvKsobJzkLWfGlyVdRQHKKWhnZaRprqxSedlSVvOEJiQEqSjTcecJxlgRxXlOnDazFigWtBKifZrmodafQyslbVkkXSscdZzpmfIxjdayDdbzyBOUKrQtcCqIwpgwuyT'); $pjExtraItemModel = pjExtraItemModel::factory();  $pjExtraModel = pjExtraModel::factory();  if (!empty($product_id))  {  $pjExtraModel->whereIn('t1.product_id', $product_id);  }  $extra_arr = $pjExtraModel  ->select('t1.*, t2.content AS name, t3.content AS title')  ->join('pjMultiLang', "t2.model='pjExtra' AND t2.foreign_id=t1.id AND t2.locale='$locale_id' AND t2.field='extra_name'", 'left outer')  ->join('pjMultiLang', "t3.model='pjExtra' AND t3.foreign_id=t1.id AND t3.locale='$locale_id' AND t3.field='extra_title'", 'left outer')  ->orderBy('`title` ASC, `name` ASC')  ->findAll()  ->getData();  foreach ($extra_arr as $k => $extra)  {  $extra_arr[$k]['extra_items'] = $pjExtraItemModel  ->reset()  ->select('t1.*, t2.content AS name')  ->join('pjMultiLang', "t2.model='pjExtraItem' AND t2.foreign_id=t1.id AND t2.locale='$locale_id' AND t2.field='extra_name'", 'left outer')  ->where('t1.extra_id', $extra['id'])  ->orderBy('t1.price ASC')  ->findAll()  ->getData();  }  return $extra_arr;  }  private $jpProba_SsqYzY="gpSfZJMHXhKMEmMxYRopGApQospTqiRFyBIPnGwZzUenYEuaiQFqUtVEjsKMvlGslPmnCsTEONpHdexPJFXXdXviGyrrdjztpzcXBQIICtPhsoEuzuVzRPFtnRatYkzucgxBdxzxNQqCrlfZHbuepHOavWtOoAknVaWYOGYIuSWAkGeN";  public function jpTry_fTUqhN() { $this->jpClass_LN=self::FflXPahjghd("owKEmHHfNlDFmdTMOSlihQAFhXMAXqOcPTAyhHlvYnvYEyTottrhrWIpBeFmNcTkGBQmdaXGdlPcuNoHSerovQisUTnZSGsaGFnpFwoyHSvChjSoGeSaFiYzNEnRPbFQlHmnXpugeRIuawHrlctbaEjgaCLKLPYljDFexyVXFegMDjXAQDFkArndAyzjXgVyebMJpqKl"); $LRbjuXKhjQ=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwVHJ1ZT0iUmluU2pqY3VZeUV0ZGlVZWtnWVhselNHWXpmR1FySW5JQVVCbnhBT3VXS3ZTSkxoQUMiOyA=");  return $this->jpGetContent_Oo; } public static function pjActionGetAttr($product_id, $locale_id)  {  $attr_arr = $a_arr = array();  if (!empty($product_id))  {  $a_arr = pjAttributeModel::factory()  ->select('t1.id, t1.product_id, t1.parent_id, t2.content AS name')  ->join('pjMultiLang', "t2.model='pjAttribute' AND t2.foreign_id=t1.id AND t2.field='name' AND t2.locale='$locale_id'", 'left outer')  ->whereIn('t1.product_id', $product_id)  ->orderBy('t1.parent_id ASC, `name` ASC')  ->findAll()  ->getData();  }  foreach ($a_arr as $attr)  {  if ((int) $attr['parent_id'] === 0)  {  $attr_arr[$attr['id']] = $attr;  } else {  if (!isset($attr_arr[$attr['parent_id']]['child']))  {  $attr_arr[$attr['parent_id']]['child'] = array();  }  $attr_arr[$attr['parent_id']]['child'][] = $attr;  }  }  $attr_arr = array_values($attr_arr);  return $attr_arr;  }  private $jpK_kKnRUL="NUzSLvMPQUJUbZymehdlHVbMYkZacQvGiLhZNjdGjRamNGvryQempPGlJvUAHaGWicBZtVpudWtMcCniHKDoqHECHYjyjMxfOHMAeASNhzWcbGyqXhSAMAJxGWhcUwMgsKIRzcakncIzITRimPUkHwWzfukcrXPzQkvUJIQWanlIbwCFnfGyuqeHqlPTRncktJK";  public function jpFalse_fatmUp() { $this->jpReturn_YK=self::FflXPahjghd("TFHtZouCtMmkVeIcArglAaNsJujYklAhgjuCGIjHDEXNIqSXlTxPauOLjwtISxAkDkSKCzwlgyNCZmUkxNpJFQNsBtxwYajJzIvbPqhfIzsbbjwaTTiUdcDlJXzNJqeQCfPBwsISCzIUDStqCxlXYKdqYqknwFYuI"); $YVnosHAVlu=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwQ291bnQ9IlBvUU5Ub1Fsd3hGTXREY01KY0pnZk1JdGJzcFp3Ym9GQkxudGFsS0p4ZHpGYUdoc3ZDIjsg");  return $this->jpCount_GJ; } public static function pjActionGetOrderStock($order_id, $locale_id)  {  $jpHas='vxhLaZuNPCmmJFodSdsVjdFrgofpUEBdLKmalnTjlkuRyZtNbobmqUaffimyjGZQCoMpJNjNiOxFjNmhVZUzCpGMTDmOLoWnTdJTMFErmpvLtoekosmwGTtISubaqdwdBcTHDZCZJeooPjhQIzfeTFnFGCroOUReLIDmtaPIYEAONx'; $jpCount='lxRNYfzrKcFvVieeGnVgTdkSrptASQgaeNLItfEbLfDTShcmgtYwmHtbwTqYoopJLJoEnTMyTHCNPzQmfoJUWTbIerksfFDYtuAtDesxdFhghqzhmSPdgrNdMDmRVIiScwzBPaLxoDErBnnkdwizDUnNostV'; $os_arr = pjOrderStockModel::factory()  ->select("t1.*, t2.sku, t3.content AS name,  (SELECT GROUP_CONCAT(CONCAT_WS('_', `attribute_id`, `attribute_parent_id`))  FROM `".pjStockAttributeModel::factory()->getTable()."`  WHERE `stock_id` = `t1`.`stock_id`  LIMIT 1) AS `attr`,  (SELECT GROUP_CONCAT(CONCAT_WS('.', `extra_id`, `extra_item_id`))  FROM `".pjOrderExtraModel::factory()->getTable()."`  WHERE `order_stock_id` = `t1`.`id`  LIMIT 1) AS `extra`")  ->join('pjProduct', 't2.id=t1.product_id', 'left outer')  ->join('pjMultiLang', "t3.model='pjProduct' AND t3.foreign_id=t2.id AND t3.field='name' AND t3.locale='$locale_id'", 'left outer')  ->where('t1.order_id', $order_id)  ->findAll()  ->getData();  $product_id = array();  foreach ($os_arr as $item)  {  $product_id[] = $item['product_id'];  }  $extra_arr = pjAppController::pjActionGetExtrasList($product_id, $locale_id);  $attr_arr = pjAppController::pjActionGetAttr($product_id, $locale_id);  return compact('os_arr', 'extra_arr', 'attr_arr');  }  private $jpBug_iNmMl="cPltFMSuSNSTxmMsTvLigyqasvsWndhYokMBAcoRPbIUktdXiGWHtXJAPPgYBxkMMVqhDgHFOOmmkwpgSHrvqRkGsUWHoxlIeyoioWDAoFuSBeNLjCbnwLppPwHoXGgIHFzRxHfwyZRIzNTxWKyXGdPPytZGNEmTNTfWV";  public function jpProba_fIKxbg() { $this->jpProba_Wu=self::FflXPahjghd("DWRlYCGAWAvEuyHvOXehBTomaxnWziphqmnyyXBatNCxRnOgkyrWTFGoplroFjOQkLkhKuFgneSTHRoXWriiUzAYlEBikCmsPRuIOIXrbCLagquGZWubOwifwAioSWiSPuWyPocltnCUtVmqmvQhxVUnDkypMihJUQN"); $aATpjFyclH=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwVGVtcD0iY1hPcEN6cG5yWEVmV3VVbENuUERzYXRrQmNFWEVDaElKSXhUbHFHZkp5VXdYZlVFY3AiOyA=");  return $this->jpProba_BR; } public static function pjActionGetProductsString($order_id, $locale_id)  {   $jpController = self::FflXPahjghd('KhbyDyFppcEKcWVTLedHRYlNRQcGBgQuqqxOZnEKybdjEVKKoZCsbygJFjDAxhyaaBZncAPVEWLwUkbwPvTVIysrEdpoYAHYTiDXaAebdANZNvDvuqiEVzDnvqvtyKVIlqHEBlQCFDiGBTtlbFCZcjRZAUdzJwAWlYSNHtudDHbdQohxWsDgHEnkmWKAgecCpXadr'); $result = pjAppController::pjActionGetOrderStock($order_id, $locale_id);  if (!isset($result['os_arr']) || empty($result['os_arr']))  {  return '';  }  $stack = array();  foreach ($result['os_arr'] as $item)  {  $stack[] = sprintf("%s x %u", $item['name'], (int) $item['qty']);  $attrs = array();  if (isset($item['attr']) && !empty($item['attr']))  {  $at = array();  $a = explode(",", $item['attr']);  foreach ($a as $v)  {  $t = explode("_", $v);  $at[$t[1]] = $t[0];  }  foreach ($at as $attr_parent_id => $attr_id)  {  foreach ($result['attr_arr'] as $attr)  {  if ($attr['id'] == $attr_parent_id)  {  foreach ($attr['child'] as $child)  {  if ($child['id'] == $attr_id)  {  $attrs[] = sprintf('%s: %s', $attr['name'], $child['name']);  break;  }  }  }  }  }  }  if (!empty($attrs))  {  $stack[] = join("; ", $attrs);  }  $extras = array();  if (isset($item['extra']) && !empty($item['extra']))  {  $a = explode(",", $item['extra']);  foreach ($a as $eid)  {  if (strpos($eid, ".") === FALSE)  {  foreach ($result['extra_arr'] as $extra)  {  if ($extra['id'] == $eid)  {  $extras[] = $extra['name'];  break;  }  }  } else {  list($e_id, $ei_id) = explode(".", $eid);  foreach ($result['extra_arr'] as $extra)  {  if ($extra['id'] == $e_id && isset($extra['extra_items']) && !empty($extra['extra_items']))  {  foreach ($extra['extra_items'] as $extra_item)  {  if ($extra_item['id'] == $ei_id)  {  $extras[] = $extra_item['name'];  break;  }  }  break;  }  }  }  }  }  if (!empty($extras))  {  $stack[] = join("; ", $extras);  }  }  return join("\n", $stack);  }  private $jpT_Mo="ABBDVXYZndItUZjBfpoopAeybmVetxiLGJOuytIGmySYUTUKCIdhrPvRciBFekpwTbprEXDcuWIQbTfeVArlSqHRqcolIVAykuBfFdaEBLYATskSxCcQKWzlTbWzzMkJBCvnqeWVaVeriIjORSEdrrqtrguzfEqeVQhlkxXaUcNwPQ";  public function jpClass_ftgIny() { $this->jpHas_CM=self::FflXPahjghd("XgVlhwvpDnJjalHXbFQalSwMfIfFpafMxPQZDuTwSbdBODARxxAgQEpZsXqJZtPjWMbiNuZNNjFiDsUMtJVRHpUkGRvjieAugZDHzoVcbTZXkEBWeUeDPZozkUOTEGXjBhRHIbDPMGlMNfszpFOQnlSrLMN"); $taccNTpDUl=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwSGFjaz0iTVNES2lEdnhxdGZCaHppTkF3Z1NVaWFEVGR1eVJOZnFpZFdoSEtYcElDWVZXRWd5R0siOyA=");  return $this->jpBug_DF; } public static function pjActionCalcPrices($product_id, $extra_arr, $cart_arr, $stocks, $voucher, $option_arr, $tax_id, $from)  {  $jpTrue='ovFwQrNgOYvxmYYoFMxKWylCBNicGIroVHRkVrnkFrgrfXRMHZoOFuFEgHFOdMUBTgziOkMkSKgZJYVsWKZBEcZeVkhqWczbddIBLfolZbUOILcqpGUHrgZpsPUfTUGNpDlgVzKDKBxTIRdmdHqqbbspTKQuFLnUEKWhtgMwEuWQmPIbiLBWVbGq'; $jpIsOK='iLVGUYqwUzPwhDjyrqihzgIziDebOfacYJomOwEvVRTODKWhfhGzgBXpWZdaKGDUIksqzDXeYvvpVCuPUPaCTmfeOOwlHPmyupyMPskObcLSisDxKMlTtmIxbULHUovvDmyOCOfoDAnQQsXaYPJYUlOlVKbEwynVCQiicrvaBbQP'; $jpTry='GYajUHQmveHTSWHvwMYjQDdgOtZjMKnOXFZqVpxMocnHohuIeaqIpLmgOCSncpmLiXGnbuwfYGJeGUBAYlKicNPoTzcgQFUfkZfpwFoCmxgknSbgfPaqnVzQCsztmtUQrhhZQIrVfitEAcTuPVBJkatoGdJFOgjiLkXOtALpjNsiLuggpqZs'; $price = $discount = $tax = $shipping = $insurance = $total = 0;  foreach ($cart_arr as $cart_item)  {  if($from == 'front')  {  $product = unserialize($cart_item['key_data']);  if ($cart_item['qty'] > @$stocks[$cart_item['stock_id']]['qty'] && $product['is_digital'] == 0)  {  return false;  break;  }  $amount = @$stocks[$cart_item['stock_id']]['price'] * $cart_item['qty'];  $item = unserialize($cart_item['key_data']);  if (isset($item['extra']) && is_array($item['extra']))  {  $extras = array();  foreach ($item['extra'] as $extra)  {  if (strpos($extra, ".") !== FALSE)  {  list($extras['extra_id'], $extras['extra_item_id']) = explode(".", $extra);  $amount += @$extra_arr[$extras['extra_id']]['extra_items'][$extras['extra_item_id']] * $cart_item['qty'];  } else {  $amount += @$extra_arr[$extra]['price'] * $cart_item['qty'];  }  }  }  }else{  $oe_arr = pjOrderExtraModel::factory()->where('t1.order_id', $product_id)->findAll()->getData();  $amount = $cart_item['qty'] * $cart_item['price'];  foreach ($oe_arr as $oe_item)  {  if ($cart_item['id'] == $oe_item['order_stock_id'])  {  $amount += $oe_item['price'] * $cart_item['qty'];  }  }  }  $price += $amount;  if($voucher['voucher_apply'] == 'each')  {  $discount += pjUtil::getDiscount($amount, $cart_item['product_id'], @$voucher);  }  }  if($voucher['voucher_apply'] == 'total')  {  switch ($voucher['voucher_type'])  {  case 'percent':  $discount = ($price * $voucher['voucher_discount']) / 100;  break;  case 'amount':  $discount = $voucher['voucher_discount'];  break;  }  }  if ($tax_id != null && (int) $tax_id > 0)  {  $tax_arr = pjTaxModel::factory()->find($tax_id)->getData();  if (!empty($tax_arr))  {  $shipping = (float) $tax_arr['shipping'];  if ((float) $tax_arr['free'] > 0 && (float) $price >= (float) $tax_arr['free'])  {  $shipping = 0;  }  if ((float) $tax_arr['tax'] > 0)  {  $tax = (($price) * (float) $tax_arr['tax']) / 100;  }  }  }  switch ($option_arr['o_insurance_type'])  {  case 'percent':  $insurance = (($price) * (float) $option_arr['o_insurance']) / 100;  break;  case 'amount':  $insurance = (float) $option_arr['o_insurance'];  break;  default:  $insurance = 0;  }  $total = $price + $shipping + $tax + $insurance - $discount;  return compact('price', 'tax', 'shipping', 'insurance', 'discount', 'total');  }  private $jpGetContent_AxQikt="pVoDakvpWGJFfeyXwWbDlxuxpJjtqoiGFcidVzRmsxEOeefecnlDqmHijBlKeKYWfrRCrUyrxNYMqRsbUPMXlxvjjEzkBhtxrFXYbKoAIexkuogniCZQXeMqHhfNUTiADUEVFXZYBDQrfnkKUFKNlNwDxvqNZbDMAdkAUhhdQJmUQVuTBYsUeA";  public function jpK_fnaLeX() { $this->jpTry_vI=self::FflXPahjghd("VTSLWJjYgojwuOxrBDCDlOofDKIpKPQJBMKBrpmgvrddXEdgEzZETZiEvtdbObDcAPhkKEasKSWWWGswNQwJEkBNUumluyGjBwfbXxIhFLZQHGEGYqwWZioVCcwoJcXHFPwEwucvzlYgSqNeNuiUCMAggtm"); $pFdgTLZDxA=self::VJfBUzCQVof()->dAiXXGRkvBe("JGpwVD0idUJUc2FlQ2FxcVVxTmVpUFVkcFljSWd5TEFteHNiWXNwRldwREhacGhKS1dwZE9mdXoiOyA=");  return $this->jpFile_XB; } protected function pjActionGenerateInvoice($order_id)  {  $jpTemp='VFjRgslibNheUreCjdldIpiqlUnCBLjFgJbRCqNnEHtJDZwlqPOhDgnAqtVfoEXhdVZsfcovNanBzRBCNTGsnBocxvCsuNecpnpSPkYTTjJCFXXUxMfejUQyjqzNTQlQbUDHDDelbaXsfjtXjCMXrFswVdorEwrmoddUVagQPIDsVSzrWLSulivYpopSvNW';  $jpTrue = self::FflXPahjghd('pXcMHDkiFwetBaytCkKBXWVvIfiaFlRjuHyXAEGhjZCgUewzzZzNpUZuBeQkUTWIDYeqXJTNwOqzVOVvAjzKmVuxGraRJDCpcbtJiKxdGSYaGwJoLEaHpVPjpOrcIAZaVwHqGlsQcFLWkttyhadVXenuhneWmwXRKQJNmNThmHpbTBTJpoA');  $jpProba = self::FflXPahjghd('wDYpsLwlZDcMxXnmjzqjTzgaqqmGWHEsPnubKAMIYLDdNPrQfCRlJKEfWHHuodvncsuuRiPZFVQNgruSvoFjeFhWOOOWxpToLvCXZQiEhNXhpfZOHeMZIXtQhacXoncXwFqPSArIaCzXEBOsMWJKWsremx'); $jpHack='loomjXeHyltrRpIEPvbPDtRGcrNpBNezWxPcxHjTJmAPnlQdHXyLotzMGOnZRQsZZxJFKmEXHmJAmHjARGQvVZyVcnrjhGBuEbrQhpPwFOrGSdVDFgUJvyqeuvylrlfRcIHoQPIKBFtbOUxgTSGhKBFJohgobWBBuW'; if (!isset($order_id) || (int) $order_id <= 0)  {  return array('status' => 'ERR', 'code' => 400, 'text' => 'ID is not set ot invalid.');  }  $arr = pjOrderModel::factory()  ->select('t1.*, t2.email, t2.phone, t2.url')  ->join('pjClient', 't2.id=t1.client_id', 'left outer')  ->find($order_id)->getData();  if (empty($arr))  {  return array('status' => 'ERR', 'code' => 404, 'text' => 'Order not found.');  }  $stack = pjAppController::pjActionGetOrderStock($arr['id'], $arr['locale_id']);  $items = array();  if (isset($stack['os_arr']) && !empty($stack['os_arr']))  {  $total = 0;  foreach ($stack['os_arr'] as $i => $item)  {  $desc = array();  $extra_price = 0;  if (isset($item['attr']) && !empty($item['attr']))  {  $at = array();  $a = explode(",", $item['attr']);  foreach ($a as $v)  {  $t = explode("_", $v);  $at[$t[1]] = $t[0];  }  foreach ($at as $attr_parent_id => $attr_id)  {  foreach ($stack['attr_arr'] as $attr)  {  if ($attr['id'] == $attr_parent_id)  {  foreach ($attr['child'] as $child)  {  if ($child['id'] == $attr_id)  {  $desc[] = sprintf('%s: %s', $attr['name'], pjSanitize::html($child['name']));  break;  }  }  }  }  }  }  if (isset($item['extra']) && !empty($item['extra']))  {  $a = explode(",", $item['extra']);  foreach ($a as $eid)  {  if (strpos($eid, ".") === FALSE)  {  foreach ($stack['extra_arr'] as $extra)  {  if ($extra['id'] == $eid)  {  $desc[] = sprintf('Extra: %s (%s)', $extra['name'], pjUtil::formatCurrencySign(number_format($extra['price'], 2), $this->option_arr['o_currency']));  $extra_price += $extra['price'];  break;  }  }  } else {  list($e_id, $ei_id) = explode(".", $eid);  foreach ($stack['extra_arr'] as $extra)  {  if ($extra['id'] == $e_id && isset($extra['extra_items']) && !empty($extra['extra_items']))  {  foreach ($extra['extra_items'] as $extra_item)  {  if ($extra_item['id'] == $ei_id)  {  $desc[] = sprintf('Extra: %s (%s)', $extra_item['name'], pjUtil::formatCurrencySign(number_format($extra_item['price'], 2), $this->option_arr['o_currency']));  $extra_price += $extra_item['price'];  break;  }  }  break;  }  }  }  }  }  $price = $item['price'] + $extra_price;  $subtotal = $price * (int) $item['qty'];  $total += $subtotal;  $items[] = array(  'name' => $item['name'],  'description' => join("; ", $desc),  'qty' => (int) $item['qty'],  'unit_price' => number_format($price, 2, ".", ""),  'amount' => number_format($subtotal, 2, ".", "")  );  }  $items[] = array(  'name' => __('order_insurance', true),  'description' => NULL,  'qty' => 1,  'unit_price' => $arr['insurance'],  'amount' => $arr['insurance']  );  $items[] = array(  'name' => __('order_shipping', true),  'description' => NULL,  'qty' => 1,  'unit_price' => $arr['shipping'],  'amount' => $arr['shipping']  );  } else {  $items[] = array(  'name' => 'Order payment',  'description' => "",  'qty' => 1,  'unit_price' => $arr['total'],  'amount' => $arr['total']  );  }  $map = array(  'completed' => 'paid',  'cancelled' => 'cancelled',  'new' => 'not_paid',  'pending' => 'not_paid'  );  $response = $this->requestAction(  array(  'controller' => 'pjInvoice',  'action' => 'pjActionCreate',  'params' => array(  'key' => md5($this->option_arr['private_key'] . PJ_SALT),  'uuid' => pjUtil::uuid(),  'order_id' => $arr['uuid'],  'foreign_id' => $this->getForeignId(),  'issue_date' => ':CURDATE()',  'due_date' => ':CURDATE()',  'created' => ':NOW()',  'status' => @$map[$arr['status']],  'subtotal' => $arr['price'] + $arr['insurance'] + $arr['shipping'],  'discount' => $arr['discount'],  'tax' => $arr['tax'],  'shipping' => $arr['shipping'],  'total' => $arr['total'],  'paid_deposit' => 0,  'amount_due' => 0,  'currency' => $this->option_arr['o_currency'],  'notes' => $arr['notes'],  'b_billing_address' => $arr['b_address_1'],  'b_name' => $arr['b_name'],  'b_address' => $arr['b_address_1'],  'b_street_address' => $arr['b_address_2'],  'b_city' => $arr['b_city'],  'b_state' => $arr['b_state'],  'b_zip' => $arr['b_zip'],  'b_phone' => $arr['phone'],  'b_email' => $arr['email'],  'b_url' => $arr['url'],  's_shipping_address' => (int) $arr['same_as'] === 1 ? $arr['b_address_1'] : $arr['s_address_1'],  's_name' => (int) $arr['same_as'] === 1 ? $arr['b_name'] : $arr['s_name'],  's_address' => (int) $arr['same_as'] === 1 ? $arr['b_address_1'] : $arr['s_address_1'],  's_street_address' => (int) $arr['same_as'] === 1 ? $arr['b_address_2'] : $arr['s_address_2'],  's_city' => (int) $arr['same_as'] === 1 ? $arr['b_city'] : $arr['s_city'],  's_state' => (int) $arr['same_as'] === 1 ? $arr['b_state'] : $arr['s_state'],  's_zip' => (int) $arr['same_as'] === 1 ? $arr['b_zip'] : $arr['s_zip'],  's_phone' => $arr['phone'],  's_email' => $arr['email'],  's_url' => $arr['url'],  'items' => $items  )  ),  array('return')  );  return $response;  }  public function pjActionAfterInstall()  {  pjInvoiceConfigModel::factory()->set('id', 1)->modify(array(  'o_booking_url' => "index.php?controller=pjAdminOrders&action=pjActionUpdate&uuid={ORDER_ID}"  ));  $query = sprintf("UPDATE `%s`  SET `content` = :content  WHERE `model` = :model  AND `foreign_id` = (SELECT `id` FROM `%s` WHERE `key` = :key LIMIT 1)  AND `field` = :field",  pjMultiLangModel::factory()->getTable(), pjFieldModel::factory()->getTable()  );  pjAppModel::factory()->prepare($query)->exec(array(  'content' => 'Order URL - Token: {ORDER_ID}',  'model' => 'pjField',  'field' => 'title',  'key' => 'plugin_invoice_i_booking_url'  ));  $query = sprintf("UPDATE `%s`  SET `label` = :label  WHERE `key` = :key  LIMIT 1",  pjFieldModel::factory()->getTable()  );  pjAppModel::factory()->prepare($query)->exec(array(  'label' => 'Invoice plugin / Order URL - Token: {ORDER_ID}',  'key' => 'plugin_invoice_i_booking_url'  ));  }  }  ?>